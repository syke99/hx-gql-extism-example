(()=>{var __webpack_modules__={28:function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,t;"undefined"!=typeof self&&self,t=function(){return function(){"use strict";var Q={onLoad:F,process:zt,on:de,off:ge,trigger:ce,ajax:Nr,find:C,findAll:f,closest:v,values:function(e,t){return dr(e,t||"post").values},remove:_,addClass:z,removeClass:n,toggleClass:$,takeClass:W,defineExtension:Ur,removeExtension:Br,logAll:V,logNone:j,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get"],selfRequestsOnly:!1,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null},parseInterval:d,_:t,createEventSource:function(e){return new EventSource(e,{withCredentials:!0})},createWebSocket:function(e){var t=new WebSocket(e,[]);return t.binaryType=Q.config.wsBinaryType,t},version:"1.9.10"},r={addTriggerHandler:Lt,bodyContains:se,canAccessLocalStorage:U,findThisElement:xe,filterValues:yr,hasAttribute:o,getAttributeValue:te,getClosestAttributeValue:ne,getClosestMatch:c,getExpressionVars:Hr,getHeaders:xr,getInputValues:dr,getInternalData:ae,getSwapSpecification:wr,getTriggerSpecs:it,getTarget:ye,makeFragment:l,mergeObjects:le,makeSettleInfo:T,oobSwap:Ee,querySelectorExt:ue,selectAndSwap:je,settleImmediately:nr,shouldCancel:ut,triggerEvent:ce,triggerErrorEvent:fe,withExtensions:R},w=["get","post","put","delete","patch"],i=w.map((function(e){return"[hx-"+e+"], [data-hx-"+e+"]"})).join(", "),S=e("head"),q=e("title"),H=e("svg",!0);function e(e,t=!1){return new RegExp(`<${e}(\\s[^>]*>|>)([\\s\\S]*?)<\\/${e}>`,t?"gim":"im")}function d(e){if(null==e)return;let t=NaN;return t="ms"==e.slice(-2)?parseFloat(e.slice(0,-2)):"s"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1)):"m"==e.slice(-1)?1e3*parseFloat(e.slice(0,-1))*60:parseFloat(e),isNaN(t)?void 0:t}function ee(e,t){return e.getAttribute&&e.getAttribute(t)}function o(e,t){return e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function te(e,t){return ee(e,t)||ee(e,"data-"+t)}function u(e){return e.parentElement}function re(){return document}function c(e,t){for(;e&&!t(e);)e=u(e);return e||null}function L(e,t,r){var n=te(t,r),s=te(t,"hx-disinherit");return e!==t&&s&&("*"===s||s.split(" ").indexOf(r)>=0)?"unset":n}function ne(e,t){var r=null;if(c(e,(function(n){return r=L(e,n,t)})),"unset"!==r)return r}function h(e,t){var r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;return r&&r.call(e,t)}function A(e){var t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return t?t[1].toLowerCase():""}function a(e,t){for(var r=(new DOMParser).parseFromString(e,"text/html").body;t>0;)t--,r=r.firstChild;return null==r&&(r=re().createDocumentFragment()),r}function N(e){return/<body/.test(e)}function l(e){var t=!N(e),r=A(e),n=e;if("head"===r&&(n=n.replace(S,"")),Q.config.useTemplateFragments&&t)return a("<body><template>"+n+"</template></body>",0).querySelector("template").content;switch(r){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return a("<table>"+n+"</table>",1);case"col":return a("<table><colgroup>"+n+"</colgroup></table>",2);case"tr":return a("<table><tbody>"+n+"</tbody></table>",2);case"td":case"th":return a("<table><tbody><tr>"+n+"</tr></tbody></table>",3);case"script":case"style":return a("<div>"+n+"</div>",1);default:return a(n,0)}}function ie(e){e&&e()}function I(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function k(e){return I(e,"Function")}function P(e){return I(e,"Object")}function ae(e){var t="htmx-internal-data",r=e[t];return r||(r=e[t]={}),r}function M(e){var t=[];if(e)for(var r=0;r<e.length;r++)t.push(e[r]);return t}function oe(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r])}function X(e){var t=e.getBoundingClientRect(),r=t.top,n=t.bottom;return r<window.innerHeight&&n>=0}function se(e){return e.getRootNode&&e.getRootNode()instanceof window.ShadowRoot?re().body.contains(e.getRootNode().host):re().body.contains(e)}function D(e){return e.trim().split(/\s+/)}function le(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function E(e){try{return JSON.parse(e)}catch(e){return b(e),null}}function U(){var e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function B(e){try{var t=new URL(e);return t&&(e=t.pathname+t.search),/^\/$/.test(e)||(e=e.replace(/\/+$/,"")),e}catch(t){return e}}function t(e){return Tr(re().body,(function(){return eval(e)}))}function F(e){return Q.on("htmx:load",(function(t){e(t.detail.elt)}))}function V(){Q.logger=function(e,t,r){console&&console.log(t,e,r)}}function j(){Q.logger=null}function C(e,t){return t?e.querySelector(t):C(re(),e)}function f(e,t){return t?e.querySelectorAll(t):f(re(),e)}function _(e,t){e=g(e),t?setTimeout((function(){_(e),e=null}),t):e.parentElement.removeChild(e)}function z(e,t,r){e=g(e),r?setTimeout((function(){z(e,t),e=null}),r):e.classList&&e.classList.add(t)}function n(e,t,r){e=g(e),r?setTimeout((function(){n(e,t),e=null}),r):e.classList&&(e.classList.remove(t),0===e.classList.length&&e.removeAttribute("class"))}function $(e,t){(e=g(e)).classList.toggle(t)}function W(e,t){oe((e=g(e)).parentElement.children,(function(e){n(e,t)})),z(e,t)}function v(e,t){if((e=g(e)).closest)return e.closest(t);do{if(null==e||h(e,t))return e}while(e=e&&u(e));return null}function s(e,t){return e.substring(0,t.length)===t}function G(e,t){return e.substring(e.length-t.length)===t}function J(e){var t=e.trim();return s(t,"<")&&G(t,"/>")?t.substring(1,t.length-2):t}function Z(e,t){return 0===t.indexOf("closest ")?[v(e,J(t.substr(8)))]:0===t.indexOf("find ")?[C(e,J(t.substr(5)))]:"next"===t?[e.nextElementSibling]:0===t.indexOf("next ")?[K(e,J(t.substr(5)))]:"previous"===t?[e.previousElementSibling]:0===t.indexOf("previous ")?[Y(e,J(t.substr(9)))]:"document"===t?[document]:"window"===t?[window]:"body"===t?[document.body]:re().querySelectorAll(J(t))}var K=function(e,t){for(var r=re().querySelectorAll(t),n=0;n<r.length;n++){var s=r[n];if(s.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return s}},Y=function(e,t){for(var r=re().querySelectorAll(t),n=r.length-1;n>=0;n--){var s=r[n];if(s.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return s}};function ue(e,t){return t?Z(e,t)[0]:Z(re().body,e)[0]}function g(e){return I(e,"String")?C(e):e}function ve(e,t,r){return k(t)?{target:re().body,event:e,listener:t}:{target:g(e),event:t,listener:r}}function de(e,t,r){return jr((function(){var n=ve(e,t,r);n.target.addEventListener(n.event,n.listener)})),k(t)?t:r}function ge(e,t,r){return jr((function(){var n=ve(e,t,r);n.target.removeEventListener(n.event,n.listener)})),k(t)?t:r}var me=re().createElement("output");function pe(e,t){var r=ne(e,t);if(r){if("this"===r)return[xe(e,t)];var n=Z(e,r);return 0===n.length?(b('The selector "'+r+'" on '+t+" returned no matches!"),[me]):n}}function xe(e,t){return c(e,(function(e){return null!=te(e,t)}))}function ye(e){var t=ne(e,"hx-target");return t?"this"===t?xe(e,"hx-target"):ue(e,t):ae(e).boosted?re().body:e}function be(e){for(var t=Q.config.attributesToSettle,r=0;r<t.length;r++)if(e===t[r])return!0;return!1}function we(e,t){oe(e.attributes,(function(r){!t.hasAttribute(r.name)&&be(r.name)&&e.removeAttribute(r.name)})),oe(t.attributes,(function(t){be(t.name)&&e.setAttribute(t.name,t.value)}))}function Se(e,t){for(var r=Fr(t),n=0;n<r.length;n++){var s=r[n];try{if(s.isInlineSwap(e))return!0}catch(e){b(e)}}return"outerHTML"===e}function Ee(e,t,r){var n="#"+ee(t,"id"),s="outerHTML";"true"===e||(e.indexOf(":")>0?(s=e.substr(0,e.indexOf(":")),n=e.substr(e.indexOf(":")+1,e.length)):s=e);var i=re().querySelectorAll(n);return i?(oe(i,(function(e){var n,i=t.cloneNode(!0);(n=re().createDocumentFragment()).appendChild(i),Se(s,e)||(n=i);var l={shouldSwap:!0,target:e,fragment:n};ce(e,"htmx:oobBeforeSwap",l)&&(e=l.target,l.shouldSwap&&Fe(s,e,e,n,r),oe(r.elts,(function(e){ce(e,"htmx:oobAfterSwap",l)})))})),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),fe(re().body,"htmx:oobErrorNoTarget",{content:t})),e}function Ce(e,t,r){var n=ne(e,"hx-select-oob");if(n)for(var s=n.split(","),i=0;i<s.length;i++){var l=s[i].split(":",2),a=l[0].trim();0===a.indexOf("#")&&(a=a.substring(1));var o=l[1]||"true",c=t.querySelector("#"+a);c&&Ee(o,c,r)}oe(f(t,"[hx-swap-oob], [data-hx-swap-oob]"),(function(e){var t=te(e,"hx-swap-oob");null!=t&&Ee(t,e,r)}))}function Re(e){oe(f(e,"[hx-preserve], [data-hx-preserve]"),(function(e){var t=te(e,"id"),r=re().getElementById(t);null!=r&&e.parentNode.replaceChild(r,e)}))}function Te(e,t,r){oe(t.querySelectorAll("[id]"),(function(t){var n=ee(t,"id");if(n&&n.length>0){var s=n.replace("'","\\'"),i=t.tagName.replace(":","\\:"),l=e.querySelector(i+"[id='"+s+"']");if(l&&l!==e){var a=t.cloneNode();we(t,l),r.tasks.push((function(){we(t,a)}))}}}))}function Oe(e){return function(){n(e,Q.config.addedClass),zt(e),Nt(e),qe(e),ce(e,"htmx:load")}}function qe(e){var t="[autofocus]",r=h(e,t)?e:e.querySelector(t);null!=r&&r.focus()}function m(e,t,r,n){for(Te(e,r,n);r.childNodes.length>0;){var s=r.firstChild;z(s,Q.config.addedClass),e.insertBefore(s,t),s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.COMMENT_NODE&&n.tasks.push(Oe(s))}}function He(e,t){for(var r=0;r<e.length;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t}function Le(e){var t=0;if(e.attributes)for(var r=0;r<e.attributes.length;r++){var n=e.attributes[r];n.value&&(t=He(n.name,t),t=He(n.value,t))}return t}function Ae(e){var t=ae(e);if(t.onHandlers){for(var r=0;r<t.onHandlers.length;r++){const n=t.onHandlers[r];e.removeEventListener(n.event,n.listener)}delete t.onHandlers}}function Ne(e){var t=ae(e);t.timeout&&clearTimeout(t.timeout),t.webSocket&&t.webSocket.close(),t.sseEventSource&&t.sseEventSource.close(),t.listenerInfos&&oe(t.listenerInfos,(function(e){e.on&&e.on.removeEventListener(e.trigger,e.listener)})),Ae(e),oe(Object.keys(t),(function(e){delete t[e]}))}function p(e){ce(e,"htmx:beforeCleanupElement"),Ne(e),e.children&&oe(e.children,(function(e){p(e)}))}function Ie(e,t,r){if("BODY"===e.tagName)return Ue(e,t,r);var n,s=e.previousSibling;for(m(u(e),e,t,r),n=null==s?u(e).firstChild:s.nextSibling,r.elts=r.elts.filter((function(t){return t!=e}));n&&n!==e;)n.nodeType===Node.ELEMENT_NODE&&r.elts.push(n),n=n.nextElementSibling;p(e),u(e).removeChild(e)}function ke(e,t,r){return m(e,e.firstChild,t,r)}function Pe(e,t,r){return m(u(e),e,t,r)}function Me(e,t,r){return m(e,null,t,r)}function Xe(e,t,r){return m(u(e),e.nextSibling,t,r)}function De(e,t,r){return p(e),u(e).removeChild(e)}function Ue(e,t,r){var n=e.firstChild;if(m(e,n,t,r),n){for(;n.nextSibling;)p(n.nextSibling),e.removeChild(n.nextSibling);p(n),e.removeChild(n)}}function Be(e,t,r){var n=r||ne(e,"hx-select");if(n){var s=re().createDocumentFragment();oe(t.querySelectorAll(n),(function(e){s.appendChild(e)})),t=s}return t}function Fe(e,t,r,n,s){switch(e){case"none":return;case"outerHTML":return void Ie(r,n,s);case"afterbegin":return void ke(r,n,s);case"beforebegin":return void Pe(r,n,s);case"beforeend":return void Me(r,n,s);case"afterend":return void Xe(r,n,s);case"delete":return void De(r,n,s);default:for(var i=Fr(t),l=0;l<i.length;l++){var a=i[l];try{var o=a.handleSwap(e,r,n,s);if(o){if(void 0!==o.length)for(var c=0;c<o.length;c++){var u=o[c];u.nodeType!==Node.TEXT_NODE&&u.nodeType!==Node.COMMENT_NODE&&s.tasks.push(Oe(u))}return}}catch(e){b(e)}}"innerHTML"===e?Ue(r,n,s):Fe(Q.config.defaultSwapStyle,t,r,n,s)}}function Ve(e){if(e.indexOf("<title")>-1){var t=e.replace(H,"").match(q);if(t)return t[2]}}function je(e,t,r,n,s,i){s.title=Ve(n);var a=l(n);if(a)return Ce(r,a,s),Re(a=Be(r,a,i)),Fe(e,r,t,a,s)}function _e(e,t,r){var n=e.getResponseHeader(t);if(0===n.indexOf("{")){var s=E(n);for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];P(l)||(l={value:l}),ce(r,i,l)}}else for(var a=n.split(","),o=0;o<a.length;o++)ce(r,a[o].trim(),[])}var ze=/\s/,x=/[\s,]/,$e=/[_$a-zA-Z]/,We=/[_$a-zA-Z0-9]/,Ge=['"',"'","/"],Je=/[^\s]/,Ze=/[{(]/,Ke=/[})]/;function Ye(e){for(var t=[],r=0;r<e.length;){if($e.exec(e.charAt(r))){for(var n=r;We.exec(e.charAt(r+1));)r++;t.push(e.substr(n,r-n+1))}else if(-1!==Ge.indexOf(e.charAt(r))){var s=e.charAt(r);for(n=r,r++;r<e.length&&e.charAt(r)!==s;)"\\"===e.charAt(r)&&r++,r++;t.push(e.substr(n,r-n+1))}else{var i=e.charAt(r);t.push(i)}r++}return t}function Qe(e,t,r){return $e.exec(e.charAt(0))&&"true"!==e&&"false"!==e&&"this"!==e&&e!==r&&"."!==t}function et(e,t,r){if("["===t[0]){t.shift();for(var n=1,s=" return (function("+r+"){ return (",i=null;t.length>0;){var l=t[0];if("]"===l){if(0==--n){null===i&&(s+="true"),t.shift(),s+=")})";try{var a=Tr(e,(function(){return Function(s)()}),(function(){return!0}));return a.source=s,a}catch(e){return fe(re().body,"htmx:syntax:error",{error:e,source:s}),null}}}else"["===l&&n++;Qe(l,i,r)?s+="(("+r+"."+l+") ? ("+r+"."+l+") : (window."+l+"))":s+=l,i=t.shift()}}}function y(e,t){for(var r="";e.length>0&&!t.test(e[0]);)r+=e.shift();return r}function tt(e){var t;return e.length>0&&Ze.test(e[0])?(e.shift(),t=y(e,Ke).trim(),e.shift()):t=y(e,x),t}var rt="input, textarea, select";function nt(e,t,r){var n=[],s=Ye(t);do{y(s,Je);var i=s.length,l=y(s,/[,\[\s]/);if(""!==l)if("every"===l){var a={trigger:"every"};y(s,Je),a.pollInterval=d(y(s,/[,\[\s]/)),y(s,Je),(o=et(e,s,"event"))&&(a.eventFilter=o),n.push(a)}else if(0===l.indexOf("sse:"))n.push({trigger:"sse",sseEvent:l.substr(4)});else{var o,c={trigger:l};for((o=et(e,s,"event"))&&(c.eventFilter=o);s.length>0&&","!==s[0];){y(s,Je);var u=s.shift();if("changed"===u)c.changed=!0;else if("once"===u)c.once=!0;else if("consume"===u)c.consume=!0;else if("delay"===u&&":"===s[0])s.shift(),c.delay=d(y(s,x));else if("from"===u&&":"===s[0]){if(s.shift(),Ze.test(s[0]))var h=tt(s);else if("closest"===(h=y(s,x))||"find"===h||"next"===h||"previous"===h){s.shift();var f=tt(s);f.length>0&&(h+=" "+f)}c.from=h}else"target"===u&&":"===s[0]?(s.shift(),c.target=tt(s)):"throttle"===u&&":"===s[0]?(s.shift(),c.throttle=d(y(s,x))):"queue"===u&&":"===s[0]?(s.shift(),c.queue=y(s,x)):"root"===u&&":"===s[0]?(s.shift(),c[u]=tt(s)):"threshold"===u&&":"===s[0]?(s.shift(),c[u]=y(s,x)):fe(e,"htmx:syntax:error",{token:s.shift()})}n.push(c)}s.length===i&&fe(e,"htmx:syntax:error",{token:s.shift()}),y(s,Je)}while(","===s[0]&&s.shift());return r&&(r[t]=n),n}function it(e){var t=te(e,"hx-trigger"),r=[];if(t){var n=Q.config.triggerSpecsCache;r=n&&n[t]||nt(e,t,n)}return r.length>0?r:h(e,"form")?[{trigger:"submit"}]:h(e,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:h(e,rt)?[{trigger:"change"}]:[{trigger:"click"}]}function at(e){ae(e).cancelled=!0}function ot(e,t,r){var n=ae(e);n.timeout=setTimeout((function(){se(e)&&!0!==n.cancelled&&(ct(r,e,Wt("hx:poll:trigger",{triggerSpec:r,target:e}))||t(e),ot(e,t,r))}),r.pollInterval)}function st(e){return location.hostname===e.hostname&&ee(e,"href")&&0!==ee(e,"href").indexOf("#")}function lt(e,t,r){if("A"===e.tagName&&st(e)&&(""===e.target||"_self"===e.target)||"FORM"===e.tagName){var n,s;if(t.boosted=!0,"A"===e.tagName)n="get",s=ee(e,"href");else{var i=ee(e,"method");n=i?i.toLowerCase():"get",s=ee(e,"action")}r.forEach((function(r){ht(e,(function(e,t){v(e,Q.config.disableSelector)?p(e):he(n,s,e,t)}),t,r,!0)}))}}function ut(e,t){if("submit"===e.type||"click"===e.type){if("FORM"===t.tagName)return!0;if(h(t,'input[type="submit"], button')&&null!==v(t,"form"))return!0;if("A"===t.tagName&&t.href&&("#"===t.getAttribute("href")||0!==t.getAttribute("href").indexOf("#")))return!0}return!1}function ft(e,t){return ae(e).boosted&&"A"===e.tagName&&"click"===t.type&&(t.ctrlKey||t.metaKey)}function ct(e,t,r){var n=e.eventFilter;if(n)try{return!0!==n.call(t,r)}catch(e){return fe(re().body,"htmx:eventFilter:error",{error:e,source:n.source}),!0}return!1}function ht(e,t,r,n,s){var i,l=ae(e);i=n.from?Z(e,n.from):[e],n.changed&&i.forEach((function(e){ae(e).lastValue=e.value})),oe(i,(function(i){var a=function(r){if(se(e)){if(!ft(e,r)&&((s||ut(r,e))&&r.preventDefault(),!ct(n,e,r))){var o=ae(r);if(o.triggerSpec=n,null==o.handledFor&&(o.handledFor=[]),o.handledFor.indexOf(e)<0){if(o.handledFor.push(e),n.consume&&r.stopPropagation(),n.target&&r.target&&!h(r.target,n.target))return;if(n.once){if(l.triggeredOnce)return;l.triggeredOnce=!0}if(n.changed){var c=ae(i);if(c.lastValue===i.value)return;c.lastValue=i.value}if(l.delayed&&clearTimeout(l.delayed),l.throttle)return;n.throttle>0?l.throttle||(t(e,r),l.throttle=setTimeout((function(){l.throttle=null}),n.throttle)):n.delay>0?l.delayed=setTimeout((function(){t(e,r)}),n.delay):(ce(e,"htmx:trigger"),t(e,r))}}}else i.removeEventListener(n.trigger,a)};null==r.listenerInfos&&(r.listenerInfos=[]),r.listenerInfos.push({trigger:n.trigger,listener:a,on:i}),i.addEventListener(n.trigger,a)}))}var vt=!1,dt=null;function gt(){dt||(dt=function(){vt=!0},window.addEventListener("scroll",dt),setInterval((function(){vt&&(vt=!1,oe(re().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),(function(e){mt(e)})))}),200))}function mt(e){!o(e,"data-hx-revealed")&&X(e)&&(e.setAttribute("data-hx-revealed","true"),ae(e).initHash?ce(e,"revealed"):e.addEventListener("htmx:afterProcessNode",(function(t){ce(e,"revealed")}),{once:!0}))}function pt(e,t,r){for(var n=D(r),s=0;s<n.length;s++){var i=n[s].split(/:(.+)/);"connect"===i[0]&&xt(e,i[1],0),"send"===i[0]&&bt(e)}}function xt(e,t,r){if(se(e)){if(0==t.indexOf("/")){var n=location.hostname+(location.port?":"+location.port:"");"https:"==location.protocol?t="wss://"+n+t:"http:"==location.protocol&&(t="ws://"+n+t)}var s=Q.createWebSocket(t);s.onerror=function(t){fe(e,"htmx:wsError",{error:t,socket:s}),yt(e)},s.onclose=function(n){if([1006,1012,1013].indexOf(n.code)>=0){var s=wt(r);setTimeout((function(){xt(e,t,r+1)}),s)}},s.onopen=function(e){r=0},ae(e).webSocket=s,s.addEventListener("message",(function(t){if(!yt(e)){var r=t.data;R(e,(function(t){r=t.transformResponse(r,null,e)}));for(var n=T(e),s=M(l(r).children),i=0;i<s.length;i++){var a=s[i];Ee(te(a,"hx-swap-oob")||"true",a,n)}nr(n.tasks)}}))}}function yt(e){if(!se(e))return ae(e).webSocket.close(),!0}function bt(e){var t=c(e,(function(e){return null!=ae(e).webSocket}));t?e.addEventListener(it(e)[0].trigger,(function(r){var n=ae(t).webSocket,s=xr(e,t),i=dr(e,"post"),l=i.errors,a=yr(le(i.values,Hr(e)),e);a.HEADERS=s,l&&l.length>0?ce(e,"htmx:validation:halted",l):(n.send(JSON.stringify(a)),ut(r,e)&&r.preventDefault())})):fe(e,"htmx:noWebSocketSourceError")}function wt(e){var t=Q.config.wsReconnectDelay;if("function"==typeof t)return t(e);if("full-jitter"===t){var r=Math.min(e,6);return 1e3*Math.pow(2,r)*Math.random()}b('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function St(e,t,r){for(var n=D(r),s=0;s<n.length;s++){var i=n[s].split(/:(.+)/);"connect"===i[0]&&Et(e,i[1]),"swap"===i[0]&&Ct(e,i[1])}}function Et(e,t){var r=Q.createEventSource(t);r.onerror=function(t){fe(e,"htmx:sseError",{error:t,source:r}),Tt(e)},ae(e).sseEventSource=r}function Ct(e,t){var r=c(e,Ot);if(r){var n=ae(r).sseEventSource,s=function(i){if(!Tt(r))if(se(e)){var l=i.data;R(e,(function(t){l=t.transformResponse(l,null,e)}));var a=wr(e),o=ye(e),c=T(e);je(a.swapStyle,o,e,l,c),nr(c.tasks),ce(e,"htmx:sseMessage",i)}else n.removeEventListener(t,s)};ae(e).sseListener=s,n.addEventListener(t,s)}else fe(e,"htmx:noSSESourceError")}function Rt(e,t,r){var n=c(e,Ot);if(n){var s=ae(n).sseEventSource,i=function(){Tt(n)||(se(e)?t(e):s.removeEventListener(r,i))};ae(e).sseListener=i,s.addEventListener(r,i)}else fe(e,"htmx:noSSESourceError")}function Tt(e){if(!se(e))return ae(e).sseEventSource.close(),!0}function Ot(e){return null!=ae(e).sseEventSource}function qt(e,t,r,n){var s=function(){r.loaded||(r.loaded=!0,t(e))};n>0?setTimeout(s,n):s()}function Ht(e,t,r){var n=!1;return oe(w,(function(s){if(o(e,"hx-"+s)){var i=te(e,"hx-"+s);n=!0,t.path=i,t.verb=s,r.forEach((function(r){Lt(e,r,t,(function(e,t){v(e,Q.config.disableSelector)?p(e):he(s,i,e,t)}))}))}})),n}function Lt(e,t,r,n){if(t.sseEvent)Rt(e,n,t.sseEvent);else if("revealed"===t.trigger)gt(),ht(e,n,r,t),mt(e);else if("intersect"===t.trigger){var s={};t.root&&(s.root=ue(e,t.root)),t.threshold&&(s.threshold=parseFloat(t.threshold));var i=new IntersectionObserver((function(t){for(var r=0;r<t.length;r++)if(t[r].isIntersecting){ce(e,"intersect");break}}),s);i.observe(e),ht(e,n,r,t)}else"load"===t.trigger?ct(t,e,Wt("load",{elt:e}))||qt(e,n,r,t.delay):t.pollInterval>0?(r.polling=!0,ot(e,n,t)):ht(e,n,r,t)}function At(e){if(Q.config.allowScriptTags&&("text/javascript"===e.type||"module"===e.type||""===e.type)){var t=re().createElement("script");oe(e.attributes,(function(e){t.setAttribute(e.name,e.value)})),t.textContent=e.textContent,t.async=!1,Q.config.inlineScriptNonce&&(t.nonce=Q.config.inlineScriptNonce);var r=e.parentElement;try{r.insertBefore(t,e)}catch(e){b(e)}finally{e.parentElement&&e.parentElement.removeChild(e)}}}function Nt(e){h(e,"script")&&At(e),oe(f(e,"script"),(function(e){At(e)}))}function It(e){for(var t=e.attributes,r=0;r<t.length;r++){var n=t[r].name;if(s(n,"hx-on:")||s(n,"data-hx-on:")||s(n,"hx-on-")||s(n,"data-hx-on-"))return!0}return!1}function kt(e){var t=null,r=[];if(It(e)&&r.push(e),document.evaluate)for(var n=document.evaluate('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]',e);t=n.iterateNext();)r.push(t);else for(var s=e.getElementsByTagName("*"),i=0;i<s.length;i++)It(s[i])&&r.push(s[i]);return r}function Pt(e){return e.querySelectorAll?e.querySelectorAll(i+", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost], form, [type='submit'], [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]"):[]}function Mt(e){var t=v(e.target,"button, input[type='submit']"),r=Dt(e);r&&(r.lastButtonClicked=t)}function Xt(e){var t=Dt(e);t&&(t.lastButtonClicked=null)}function Dt(e){var t=v(e.target,"button, input[type='submit']");if(t){var r=g("#"+ee(t,"form"))||v(t,"form");if(r)return ae(r)}}function Ut(e){e.addEventListener("click",Mt),e.addEventListener("focusin",Mt),e.addEventListener("focusout",Xt)}function Bt(e){for(var t=Ye(e),r=0,n=0;n<t.length;n++){const e=t[n];"{"===e?r++:"}"===e&&r--}return r}function Ft(e,t,r){var n,s=ae(e);Array.isArray(s.onHandlers)||(s.onHandlers=[]);var i=function(t){return Tr(e,(function(){n||(n=new Function("event",r)),n.call(e,t)}))};e.addEventListener(t,i),s.onHandlers.push({event:t,listener:i})}function Vt(e){var t=te(e,"hx-on");if(t){for(var r={},n=t.split("\n"),s=null,i=0;n.length>0;){var l=n.shift(),a=l.match(/^\s*([a-zA-Z:\-\.]+:)(.*)/);0===i&&a?(l.split(":"),r[s=a[1].slice(0,-1)]=a[2]):r[s]+=l,i+=Bt(l)}for(var o in r)Ft(e,o,r[o])}}function jt(e){Ae(e);for(var t=0;t<e.attributes.length;t++){var r=e.attributes[t].name,n=e.attributes[t].value;if(s(r,"hx-on")||s(r,"data-hx-on")){var i=r.indexOf("-on")+3,l=r.slice(i,i+1);if("-"===l||":"===l){var a=r.slice(i+1);s(a,":")?a="htmx"+a:s(a,"-")?a="htmx:"+a.slice(1):s(a,"htmx-")&&(a="htmx:"+a.slice(5)),Ft(e,a,n)}}}}function _t(e){if(v(e,Q.config.disableSelector))p(e);else{var t=ae(e);if(t.initHash!==Le(e)){Ne(e),t.initHash=Le(e),Vt(e),ce(e,"htmx:beforeProcessNode"),e.value&&(t.lastValue=e.value);var r=it(e);Ht(e,t,r)||("true"===ne(e,"hx-boost")?lt(e,t,r):o(e,"hx-trigger")&&r.forEach((function(r){Lt(e,r,t,(function(){}))}))),("FORM"===e.tagName||"submit"===ee(e,"type")&&o(e,"form"))&&Ut(e);var n=te(e,"hx-sse");n&&St(e,t,n);var s=te(e,"hx-ws");s&&pt(e,t,s),ce(e,"htmx:afterProcessNode")}}}function zt(e){v(e=g(e),Q.config.disableSelector)?p(e):(_t(e),oe(Pt(e),(function(e){_t(e)})),oe(kt(e),jt))}function $t(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Wt(e,t){var r;return window.CustomEvent&&"function"==typeof window.CustomEvent?r=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}):(r=re().createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),r}function fe(e,t,r){ce(e,t,le({error:t},r))}function Gt(e){return"htmx:afterProcessNode"===e}function R(e,t){oe(Fr(e),(function(e){try{t(e)}catch(e){b(e)}}))}function b(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function ce(e,t,r){e=g(e),null==r&&(r={}),r.elt=e;var n=Wt(t,r);Q.logger&&!Gt(t)&&Q.logger(e,t,r),r.error&&(b(r.error),ce(e,"htmx:error",{errorInfo:r}));var s=e.dispatchEvent(n),i=$t(t);if(s&&i!==t){var l=Wt(i,n.detail);s=s&&e.dispatchEvent(l)}return R(e,(function(e){s=s&&!1!==e.onEvent(t,n)&&!n.defaultPrevented})),s}var Jt=location.pathname+location.search;function Zt(){return re().querySelector("[hx-history-elt],[data-hx-history-elt]")||re().body}function Kt(e,t,r,n){if(U())if(Q.config.historyCacheSize<=0)localStorage.removeItem("htmx-history-cache");else{e=B(e);for(var s=E(localStorage.getItem("htmx-history-cache"))||[],i=0;i<s.length;i++)if(s[i].url===e){s.splice(i,1);break}var l={url:e,content:t,title:r,scroll:n};for(ce(re().body,"htmx:historyItemCreated",{item:l,cache:s}),s.push(l);s.length>Q.config.historyCacheSize;)s.shift();for(;s.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(s));break}catch(e){fe(re().body,"htmx:historyCacheError",{cause:e,cache:s}),s.shift()}}}function Yt(e){if(!U())return null;e=B(e);for(var t=E(localStorage.getItem("htmx-history-cache"))||[],r=0;r<t.length;r++)if(t[r].url===e)return t[r];return null}function Qt(e){var t=Q.config.requestClass,r=e.cloneNode(!0);return oe(f(r,"."+t),(function(e){n(e,t)})),r.innerHTML}function er(){var e,t=Zt(),r=Jt||location.pathname+location.search;try{e=re().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch(t){e=re().querySelector('[hx-history="false"],[data-hx-history="false"]')}e||(ce(re().body,"htmx:beforeHistorySave",{path:r,historyElt:t}),Kt(r,Qt(t),re().title,window.scrollY)),Q.config.historyEnabled&&history.replaceState({htmx:!0},re().title,window.location.href)}function tr(e){Q.config.getCacheBusterParam&&(G(e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),"&")||G(e,"?"))&&(e=e.slice(0,-1)),Q.config.historyEnabled&&history.pushState({htmx:!0},"",e),Jt=e}function rr(e){Q.config.historyEnabled&&history.replaceState({htmx:!0},"",e),Jt=e}function nr(e){oe(e,(function(e){e.call()}))}function ir(e){var t=new XMLHttpRequest,r={path:e,xhr:t};ce(re().body,"htmx:historyCacheMiss",r),t.open("GET",e,!0),t.setRequestHeader("HX-Request","true"),t.setRequestHeader("HX-History-Restore-Request","true"),t.setRequestHeader("HX-Current-URL",re().location.href),t.onload=function(){if(this.status>=200&&this.status<400){ce(re().body,"htmx:historyCacheMissLoad",r);var t=l(this.response);t=t.querySelector("[hx-history-elt],[data-hx-history-elt]")||t;var n=Zt(),s=T(n),i=Ve(this.response);if(i){var a=C("title");a?a.innerHTML=i:window.document.title=i}Ue(n,t,s),nr(s.tasks),Jt=e,ce(re().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else fe(re().body,"htmx:historyCacheMissLoadError",r)},t.send()}function ar(e){er();var t=Yt(e=e||location.pathname+location.search);if(t){var r=l(t.content),n=Zt(),s=T(n);Ue(n,r,s),nr(s.tasks),document.title=t.title,setTimeout((function(){window.scrollTo(0,t.scroll)}),0),Jt=e,ce(re().body,"htmx:historyRestore",{path:e,item:t})}else Q.config.refreshOnHistoryMiss?window.location.reload(!0):ir(e)}function or(e){var t=pe(e,"hx-indicator");return null==t&&(t=[e]),oe(t,(function(e){var t=ae(e);t.requestCount=(t.requestCount||0)+1,e.classList.add.call(e.classList,Q.config.requestClass)})),t}function sr(e){var t=pe(e,"hx-disabled-elt");return null==t&&(t=[]),oe(t,(function(e){var t=ae(e);t.requestCount=(t.requestCount||0)+1,e.setAttribute("disabled","")})),t}function lr(e,t){oe(e,(function(e){var t=ae(e);t.requestCount=(t.requestCount||0)-1,0===t.requestCount&&e.classList.remove.call(e.classList,Q.config.requestClass)})),oe(t,(function(e){var t=ae(e);t.requestCount=(t.requestCount||0)-1,0===t.requestCount&&e.removeAttribute("disabled")}))}function ur(e,t){for(var r=0;r<e.length;r++)if(e[r].isSameNode(t))return!0;return!1}function fr(e){return""!==e.name&&null!=e.name&&!e.disabled&&!v(e,"fieldset[disabled]")&&"button"!==e.type&&"submit"!==e.type&&"image"!==e.tagName&&"reset"!==e.tagName&&"file"!==e.tagName&&("checkbox"!==e.type&&"radio"!==e.type||e.checked)}function cr(e,t,r){if(null!=e&&null!=t){var n=r[e];void 0===n?r[e]=t:Array.isArray(n)?Array.isArray(t)?r[e]=n.concat(t):n.push(t):Array.isArray(t)?r[e]=[n].concat(t):r[e]=[n,t]}}function hr(e,t,r,n,s){if(null!=n&&!ur(e,n)){if(e.push(n),fr(n)){var i=ee(n,"name"),l=n.value;n.multiple&&"SELECT"===n.tagName&&(l=M(n.querySelectorAll("option:checked")).map((function(e){return e.value}))),n.files&&(l=M(n.files)),cr(i,l,t),s&&vr(n,r)}h(n,"form")&&oe(n.elements,(function(n){hr(e,t,r,n,s)}))}}function vr(e,t){e.willValidate&&(ce(e,"htmx:validation:validate"),e.checkValidity()||(t.push({elt:e,message:e.validationMessage,validity:e.validity}),ce(e,"htmx:validation:failed",{message:e.validationMessage,validity:e.validity})))}function dr(e,t){var r=[],n={},s={},i=[],l=ae(e);l.lastButtonClicked&&!se(l.lastButtonClicked)&&(l.lastButtonClicked=null);var a=h(e,"form")&&!0!==e.noValidate||"true"===te(e,"hx-validate");if(l.lastButtonClicked&&(a=a&&!0!==l.lastButtonClicked.formNoValidate),"get"!==t&&hr(r,s,i,v(e,"form"),a),hr(r,n,i,e,a),l.lastButtonClicked||"BUTTON"===e.tagName||"INPUT"===e.tagName&&"submit"===ee(e,"type")){var o=l.lastButtonClicked||e;cr(ee(o,"name"),o.value,s)}return oe(pe(e,"hx-include"),(function(e){hr(r,n,i,e,a),h(e,"form")||oe(e.querySelectorAll(rt),(function(e){hr(r,n,i,e,a)}))})),n=le(n,s),{errors:i,values:n}}function gr(e,t,r){""!==e&&(e+="&"),"[object Object]"===String(r)&&(r=JSON.stringify(r));var n=encodeURIComponent(r);return e+(encodeURIComponent(t)+"=")+n}function mr(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Array.isArray(n)?oe(n,(function(e){t=gr(t,r,e)})):t=gr(t,r,n)}return t}function pr(e){var t=new FormData;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Array.isArray(n)?oe(n,(function(e){t.append(r,e)})):t.append(r,n)}return t}function xr(e,t,r){var n={"HX-Request":"true","HX-Trigger":ee(e,"id"),"HX-Trigger-Name":ee(e,"name"),"HX-Target":te(t,"id"),"HX-Current-URL":re().location.href};return Rr(e,"hx-headers",!1,n),void 0!==r&&(n["HX-Prompt"]=r),ae(e).boosted&&(n["HX-Boosted"]="true"),n}function yr(e,t){var r=ne(t,"hx-params");if(r){if("none"===r)return{};if("*"===r)return e;if(0===r.indexOf("not "))return oe(r.substr(4).split(","),(function(t){t=t.trim(),delete e[t]})),e;var n={};return oe(r.split(","),(function(t){t=t.trim(),n[t]=e[t]})),n}return e}function br(e){return ee(e,"href")&&ee(e,"href").indexOf("#")>=0}function wr(e,t){var r=t||ne(e,"hx-swap"),n={swapStyle:ae(e).boosted?"innerHTML":Q.config.defaultSwapStyle,swapDelay:Q.config.defaultSwapDelay,settleDelay:Q.config.defaultSettleDelay};if(Q.config.scrollIntoViewOnBoost&&ae(e).boosted&&!br(e)&&(n.show="top"),r){var s=D(r);if(s.length>0)for(var i=0;i<s.length;i++){var l=s[i];if(0===l.indexOf("swap:"))n.swapDelay=d(l.substr(5));else if(0===l.indexOf("settle:"))n.settleDelay=d(l.substr(7));else if(0===l.indexOf("transition:"))n.transition="true"===l.substr(11);else if(0===l.indexOf("ignoreTitle:"))n.ignoreTitle="true"===l.substr(12);else if(0===l.indexOf("scroll:")){var a=(c=l.substr(7).split(":")).pop(),o=c.length>0?c.join(":"):null;n.scroll=a,n.scrollTarget=o}else if(0===l.indexOf("show:")){var c,u=(c=l.substr(5).split(":")).pop();o=c.length>0?c.join(":"):null,n.show=u,n.showTarget=o}else if(0===l.indexOf("focus-scroll:")){var h=l.substr(13);n.focusScroll="true"==h}else 0==i?n.swapStyle=l:b("Unknown modifier in hx-swap: "+l)}}return n}function Sr(e){return"multipart/form-data"===ne(e,"hx-encoding")||h(e,"form")&&"multipart/form-data"===ee(e,"enctype")}function Er(e,t,r){var n=null;return R(t,(function(s){null==n&&(n=s.encodeParameters(e,r,t))})),null!=n?n:Sr(t)?pr(r):mr(r)}function T(e){return{tasks:[],elts:[e]}}function Cr(e,t){var r=e[0],n=e[e.length-1];if(t.scroll){var s=null;t.scrollTarget&&(s=ue(r,t.scrollTarget)),"top"===t.scroll&&(r||s)&&((s=s||r).scrollTop=0),"bottom"===t.scroll&&(n||s)&&((s=s||n).scrollTop=s.scrollHeight)}if(t.show){if(s=null,t.showTarget){var i=t.showTarget;"window"===t.showTarget&&(i="body"),s=ue(r,i)}"top"===t.show&&(r||s)&&(s=s||r).scrollIntoView({block:"start",behavior:Q.config.scrollBehavior}),"bottom"===t.show&&(n||s)&&(s=s||n).scrollIntoView({block:"end",behavior:Q.config.scrollBehavior})}}function Rr(e,t,r,n){if(null==n&&(n={}),null==e)return n;var s=te(e,t);if(s){var i,l=s.trim(),a=r;if("unset"===l)return null;for(var o in 0===l.indexOf("javascript:")?(l=l.substr(11),a=!0):0===l.indexOf("js:")&&(l=l.substr(3),a=!0),0!==l.indexOf("{")&&(l="{"+l+"}"),i=a?Tr(e,(function(){return Function("return ("+l+")")()}),{}):E(l))i.hasOwnProperty(o)&&null==n[o]&&(n[o]=i[o])}return Rr(u(e),t,r,n)}function Tr(e,t,r){return Q.config.allowEval?t():(fe(e,"htmx:evalDisallowedError"),r)}function Or(e,t){return Rr(e,"hx-vars",!0,t)}function qr(e,t){return Rr(e,"hx-vals",!1,t)}function Hr(e){return le(Or(e),qr(e))}function Lr(e,t,r){if(null!==r)try{e.setRequestHeader(t,r)}catch(n){e.setRequestHeader(t,encodeURIComponent(r)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function Ar(e){if(e.responseURL&&"undefined"!=typeof URL)try{var t=new URL(e.responseURL);return t.pathname+t.search}catch(t){fe(re().body,"htmx:badResponseUrl",{url:e.responseURL})}}function O(e,t){return t.test(e.getAllResponseHeaders())}function Nr(e,t,r){return e=e.toLowerCase(),r?r instanceof Element||I(r,"String")?he(e,t,null,null,{targetOverride:g(r),returnPromise:!0}):he(e,t,g(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:g(r.target),swapOverride:r.swap,select:r.select,returnPromise:!0}):he(e,t,null,null,{returnPromise:!0})}function Ir(e){for(var t=[];e;)t.push(e),e=e.parentElement;return t}function kr(e,t,r){var n,i;return"function"==typeof URL?(i=new URL(t,document.location.href),n=document.location.origin===i.origin):(i=t,n=s(t,document.location.origin)),!(Q.config.selfRequestsOnly&&!n)&&ce(e,"htmx:validateUrl",le({url:i,sameHost:n},r))}function he(e,t,r,n,s,i){var l=null,a=null;if((s=null!=s?s:{}).returnPromise&&"undefined"!=typeof Promise)var o=new Promise((function(e,t){l=e,a=t}));null==r&&(r=re().body);var c=s.handler||Mr,u=s.select||null;if(!se(r))return ie(l),o;var d=s.targetOverride||ye(r);if(null==d||d==me)return fe(r,"htmx:targetError",{target:te(r,"hx-target")}),ie(a),o;var h=ae(r),f=h.lastButtonClicked;if(f){var m=ee(f,"formaction");null!=m&&(t=m);var p=ee(f,"formmethod");null!=p&&"dialog"!==p.toLowerCase()&&(e=p)}var b=ne(r,"hx-confirm");if(void 0===i){var y={target:d,elt:r,path:t,verb:e,triggeringEvent:n,etc:s,issueRequest:function(i){return he(e,t,r,n,s,!!i)},question:b};if(!1===ce(r,"htmx:confirm",y))return ie(l),o}var Z=r,g=ne(r,"hx-sync"),X=null,G=!1;if(g){var x=g.split(":"),w=x[0].trim();if(Z="this"===w?xe(r,"hx-sync"):ue(r,w),g=(x[1]||"drop").trim(),h=ae(Z),"drop"===g&&h.xhr&&!0!==h.abortable)return ie(l),o;if("abort"===g){if(h.xhr)return ie(l),o;G=!0}else"replace"===g?ce(Z,"htmx:abort"):0===g.indexOf("queue")&&(X=(g.split(" ")[1]||"last").trim())}if(h.xhr){if(!h.abortable){if(null==X){if(n){var V=ae(n);V&&V.triggerSpec&&V.triggerSpec.queue&&(X=V.triggerSpec.queue)}null==X&&(X="last")}return null==h.queuedRequests&&(h.queuedRequests=[]),"first"===X&&0===h.queuedRequests.length||"all"===X?h.queuedRequests.push((function(){he(e,t,r,n,s)})):"last"===X&&(h.queuedRequests=[],h.queuedRequests.push((function(){he(e,t,r,n,s)}))),ie(l),o}ce(Z,"htmx:abort")}var W=new XMLHttpRequest;h.xhr=W,h.abortable=G;var v=function(){h.xhr=null,h.abortable=!1,null!=h.queuedRequests&&h.queuedRequests.length>0&&h.queuedRequests.shift()()},R=ne(r,"hx-prompt");if(R){var L=prompt(R);if(null===L||!ce(r,"htmx:prompt",{prompt:L,target:d}))return ie(l),v(),o}if(b&&!i&&!confirm(b))return ie(l),v(),o;var S=xr(r,d,L);"get"===e||Sr(r)||(S["Content-Type"]="application/x-www-form-urlencoded"),s.headers&&(S=le(S,s.headers));var I=dr(r,e),H=I.errors,C=I.values;s.values&&(C=le(C,s.values));var k=le(C,Hr(r)),z=yr(k,r);Q.config.getCacheBusterParam&&"get"===e&&(z["org.htmx.cache-buster"]=ee(d,"id")||"true"),null!=t&&""!==t||(t=re().location.href);var Y=Rr(r,"hx-request"),K=ae(r).boosted,N=Q.config.methodsThatUseUrlParams.indexOf(e)>=0,F={boosted:K,useUrlParams:N,parameters:z,unfilteredParameters:k,headers:S,target:d,verb:e,errors:H,withCredentials:s.credentials||Y.credentials||Q.config.withCredentials,timeout:s.timeout||Y.timeout||Q.config.timeout,path:t,triggeringEvent:n};if(!ce(r,"htmx:configRequest",F))return ie(l),v(),o;if(t=F.path,e=F.verb,S=F.headers,z=F.parameters,N=F.useUrlParams,(H=F.errors)&&H.length>0)return ce(r,"htmx:validation:halted",F),ie(l),v(),o;var J=t.split("#"),T=J[0],_=J[1],E=t;if(N&&(E=T,0!==Object.keys(z).length&&(E.indexOf("?")<0?E+="?":E+="&",E+=mr(z),_&&(E+="#"+_))),!kr(r,E,F))return fe(r,"htmx:invalidPath",F),ie(a),o;if(W.open(e.toUpperCase(),E,!0),W.overrideMimeType("text/html"),W.withCredentials=F.withCredentials,W.timeout=F.timeout,Y.noHeaders);else for(var M in S)if(S.hasOwnProperty(M)){var B=S[M];Lr(W,M,B)}var O={xhr:W,target:d,requestConfig:F,etc:s,boosted:K,select:u,pathInfo:{requestPath:t,finalRequestPath:E,anchor:_}};if(W.onload=function(){try{var e=Ir(r);if(O.pathInfo.responsePath=Ar(W),c(r,O),lr(U,P),ce(r,"htmx:afterRequest",O),ce(r,"htmx:afterOnLoad",O),!se(r)){for(var t=null;e.length>0&&null==t;){var n=e.shift();se(n)&&(t=n)}t&&(ce(t,"htmx:afterRequest",O),ce(t,"htmx:afterOnLoad",O))}ie(l),v()}catch(e){throw fe(r,"htmx:onLoadError",le({error:e},O)),e}},W.onerror=function(){lr(U,P),fe(r,"htmx:afterRequest",O),fe(r,"htmx:sendError",O),ie(a),v()},W.onabort=function(){lr(U,P),fe(r,"htmx:afterRequest",O),fe(r,"htmx:sendAbort",O),ie(a),v()},W.ontimeout=function(){lr(U,P),fe(r,"htmx:afterRequest",O),fe(r,"htmx:timeout",O),ie(a),v()},!ce(r,"htmx:beforeRequest",O))return ie(l),v(),o;var U=or(r),P=sr(r);oe(["loadstart","loadend","progress","abort"],(function(e){oe([W,W.upload],(function(t){t.addEventListener(e,(function(t){ce(r,"htmx:xhr:"+e,{lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total})}))}))})),ce(r,"htmx:beforeSend",O);var A=N?null:Er(W,r,z);return W.send(A),o}function Pr(e,t){var r=t.xhr,n=null,s=null;if(O(r,/HX-Push:/i)?(n=r.getResponseHeader("HX-Push"),s="push"):O(r,/HX-Push-Url:/i)?(n=r.getResponseHeader("HX-Push-Url"),s="push"):O(r,/HX-Replace-Url:/i)&&(n=r.getResponseHeader("HX-Replace-Url"),s="replace"),n)return"false"===n?{}:{type:s,path:n};var i=t.pathInfo.finalRequestPath,l=t.pathInfo.responsePath,a=ne(e,"hx-push-url"),o=ne(e,"hx-replace-url"),c=ae(e).boosted,u=null,d=null;return a?(u="push",d=a):o?(u="replace",d=o):c&&(u="push",d=l||i),d?"false"===d?{}:("true"===d&&(d=l||i),t.pathInfo.anchor&&-1===d.indexOf("#")&&(d=d+"#"+t.pathInfo.anchor),{type:u,path:d}):{}}function Mr(e,t){var r=t.xhr,n=t.target,s=t.etc,i=(t.requestConfig,t.select);if(ce(e,"htmx:beforeOnLoad",t)){if(O(r,/HX-Trigger:/i)&&_e(r,"HX-Trigger",e),O(r,/HX-Location:/i)){er();var l=r.getResponseHeader("HX-Location");return 0===l.indexOf("{")&&(m=E(l),l=m.path,delete m.path),void Nr("GET",l,m).then((function(){tr(l)}))}var a=O(r,/HX-Refresh:/i)&&"true"===r.getResponseHeader("HX-Refresh");if(O(r,/HX-Redirect:/i))return location.href=r.getResponseHeader("HX-Redirect"),void(a&&location.reload());if(a)location.reload();else{O(r,/HX-Retarget:/i)&&("this"===r.getResponseHeader("HX-Retarget")?t.target=e:t.target=ue(e,r.getResponseHeader("HX-Retarget")));var o=Pr(e,t),c=r.status>=200&&r.status<400&&204!==r.status,u=r.response,d=r.status>=400,h=Q.config.ignoreTitle,f=le({shouldSwap:c,serverResponse:u,isError:d,ignoreTitle:h},t);if(ce(n,"htmx:beforeSwap",f)){if(n=f.target,u=f.serverResponse,d=f.isError,h=f.ignoreTitle,t.target=n,t.failed=d,t.successful=!d,f.shouldSwap){286===r.status&&at(e),R(e,(function(t){u=t.transformResponse(u,r,e)})),o.type&&er();var m,p=s.swapOverride;O(r,/HX-Reswap:/i)&&(p=r.getResponseHeader("HX-Reswap")),(m=wr(e,p)).hasOwnProperty("ignoreTitle")&&(h=m.ignoreTitle),n.classList.add(Q.config.swappingClass);var b=null,y=null,Z=function(){try{var s,l=document.activeElement,a={};try{a={elt:l,start:l?l.selectionStart:null,end:l?l.selectionEnd:null}}catch(l){}i&&(s=i),O(r,/HX-Reselect:/i)&&(s=r.getResponseHeader("HX-Reselect")),o.type&&(ce(re().body,"htmx:beforeHistoryUpdate",le({history:o},t)),"push"===o.type?(tr(o.path),ce(re().body,"htmx:pushedIntoHistory",{path:o.path})):(rr(o.path),ce(re().body,"htmx:replacedInHistory",{path:o.path})));var c=T(n);if(je(m.swapStyle,n,e,u,c,s),a.elt&&!se(a.elt)&&ee(a.elt,"id")){var d=document.getElementById(ee(a.elt,"id")),f={preventScroll:void 0!==m.focusScroll?!m.focusScroll:!Q.config.defaultFocusScroll};if(d){if(a.start&&d.setSelectionRange)try{d.setSelectionRange(a.start,a.end)}catch(l){}d.focus(f)}}if(n.classList.remove(Q.config.swappingClass),oe(c.elts,(function(e){e.classList&&e.classList.add(Q.config.settlingClass),ce(e,"htmx:afterSwap",t)})),O(r,/HX-Trigger-After-Swap:/i)){var p=e;se(e)||(p=re().body),_e(r,"HX-Trigger-After-Swap",p)}var Z=function(){if(oe(c.tasks,(function(e){e.call()})),oe(c.elts,(function(e){e.classList&&e.classList.remove(Q.config.settlingClass),ce(e,"htmx:afterSettle",t)})),t.pathInfo.anchor){var n=re().getElementById(t.pathInfo.anchor);n&&n.scrollIntoView({block:"start",behavior:"auto"})}if(c.title&&!h){var s=C("title");s?s.innerHTML=c.title:window.document.title=c.title}if(Cr(c.elts,m),O(r,/HX-Trigger-After-Settle:/i)){var i=e;se(e)||(i=re().body),_e(r,"HX-Trigger-After-Settle",i)}ie(b)};m.settleDelay>0?setTimeout(Z,m.settleDelay):Z()}catch(l){throw fe(e,"htmx:swapError",t),ie(y),l}},g=Q.config.globalViewTransitions;if(m.hasOwnProperty("transition")&&(g=m.transition),g&&ce(e,"htmx:beforeTransition",t)&&"undefined"!=typeof Promise&&document.startViewTransition){var X=new Promise((function(e,t){b=e,y=t})),G=Z;Z=function(){document.startViewTransition((function(){return G(),X}))}}m.swapDelay>0?setTimeout(Z,m.swapDelay):Z()}d&&fe(e,"htmx:responseError",le({error:"Response Status Error Code "+r.status+" from "+t.pathInfo.requestPath},t))}}}}var Xr={};function Dr(){return{init:function(e){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,r){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,r,n){return!1},encodeParameters:function(e,t,r){return null}}}function Ur(e,t){t.init&&t.init(r),Xr[e]=le(Dr(),t)}function Br(e){delete Xr[e]}function Fr(e,t,r){if(null==e)return t;null==t&&(t=[]),null==r&&(r=[]);var n=te(e,"hx-ext");return n&&oe(n.split(","),(function(e){if("ignore:"!=(e=e.replace(/ /g,"")).slice(0,7)){if(r.indexOf(e)<0){var n=Xr[e];n&&t.indexOf(n)<0&&t.push(n)}}else r.push(e.slice(7))})),Fr(u(e),t,r)}var Vr=!1;function jr(e){Vr||"complete"===re().readyState?e():re().addEventListener("DOMContentLoaded",e)}function _r(){!1!==Q.config.includeIndicatorStyles&&re().head.insertAdjacentHTML("beforeend","<style>                      ."+Q.config.indicatorClass+"{opacity:0}                      ."+Q.config.requestClass+" ."+Q.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}                      ."+Q.config.requestClass+"."+Q.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}                    </style>")}function zr(){var e=re().querySelector('meta[name="htmx-config"]');return e?E(e.content):null}function $r(){var e=zr();e&&(Q.config=le(Q.config,e))}return re().addEventListener("DOMContentLoaded",(function(){Vr=!0})),jr((function(){$r(),_r();var e=re().body;zt(e);var t=re().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",(function(e){var t=ae(e.target);t&&t.xhr&&t.xhr.abort()}));const r=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(e){e.state&&e.state.htmx?(ar(),oe(t,(function(e){ce(e,"htmx:restored",{document:re(),triggerEvent:ce})}))):r&&r(e)},setTimeout((function(){ce(e,"htmx:load",{}),e=null}),0)})),Q}()},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=t)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},164:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>setupOverride,_:()=>handleResponse});var _setup__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(434);function setupOverride(event){event.detail.headers["Content-Type"]="application/json";let element=event.detail.elt,vars=element.hasAttribute("vars")?element.getAttribute("vars"):null,varsObject={};null!==vars&&vars.split("|").forEach((pair=>{let split=pair.split(":");if(split[1].endsWith("*")){let fn=split[1].slice(0,-1);varsObject[split[0]]=eval(fn)}else varsObject[split[0]]=split[1]}));let query=element.hasAttribute("query")?element.getAttribute("query"):null;if(null===query)return;let body=JSON.stringify({query:(0,_setup__WEBPACK_IMPORTED_MODULE_0__.dW)(query),variables:varsObject});event.detail.parameters=body,event.detail.target=(0,_setup__WEBPACK_IMPORTED_MODULE_0__.yI)()}function handleResponse(e,t){let r=(0,_setup__WEBPACK_IMPORTED_MODULE_0__.qL)(e.getAttribute("handler").replace("/",""));if(null!==r)return r(e,t)}},434:(e,t,r)=>{"use strict";r.d(t,{_n:()=>u,dW:()=>d,qL:()=>o,uK:()=>a,wi:()=>s,yI:()=>i});let n="";function s(e){n=e}function i(){return n}let l=new Map;function a(e,t){l.set(e,t)}function o(e){return l.has(e)?l.get(e):null}let c=new Map;function u(e,t){c.set(e,t)}function d(e){return c.has(e)?c.get(e):null}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{"use strict";__webpack_require__(28);var e=__webpack_require__(164),t=__webpack_require__(434);function r(e,r){(0,t.uK)(e,r)}function n(e,r){(0,t._n)(e,r)}htmx.defineExtension("hx-gql",{onEvent:function(t,r){"htmx:configRequest"===t&&(0,e.O)(r),"htmx:afterRequest"===t&&(0,e._)(r)},encodeParameters:function(e,t,r){return e.overrideMimeType("text/json"),t},transformResponse:function(t,r,n){return(0,e._)(n,t)}});const s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const l=new Uint8Array(16);function a(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(l)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));const c=function(e,t,r){if(s.randomUUID&&!t&&!e)return s.randomUUID();const n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}(n)};let u=new Map;function d(e,t){u.set(e,t)}htmx.defineExtension("hx-extism",{onEvent:function(e,t){"htmx:afterSettle"===e&&htmx.trigger(t.detail.elt,"extismSwap",{extismUUID:`extism-${c()}`,res:t.detail.xhr})}});var h=Object.create,f=Object.defineProperty,m=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,b=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,Z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),g=(e,t,r)=>(((e,t,r)=>{t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),X=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},G=(e,t,r)=>(X(e,t,"read from private field"),r?r.call(e):t.get(e)),x=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},w=(e,t,r,n)=>(X(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),V=(e,t,r)=>(X(e,t,"access private method"),r),W=Z(((e,t)=>{function r(e,t,r){e instanceof RegExp&&(e=n(e,r)),t instanceof RegExp&&(t=n(t,r));var i=s(e,t,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+e.length,i[1]),post:r.slice(i[1]+t.length)}}function n(e,t){var r=t.match(e);return r?r[0]:null}function s(e,t,r){var n,s,i,l,a,o=r.indexOf(e),c=r.indexOf(t,o+1),u=o;if(o>=0&&c>0){if(e===t)return[o,c];for(n=[],i=r.length;u>=0&&!a;)u==o?(n.push(u),o=r.indexOf(e,u+1)):1==n.length?a=[n.pop(),c]:((s=n.pop())<i&&(i=s,l=c),c=r.indexOf(t,u+1)),u=o<c&&o>=0?o:c;n.length&&(a=[i,l])}return a}t.exports=r,r.range=s})),v=Z(((e,t)=>{var r=W();t.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),p(function(e){return e.split("\\\\").join(n).split("\\{").join(s).split("\\}").join(i).split("\\,").join(l).split("\\.").join(a)}(e),!0).map(c)):[]};var n="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",i="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",a="\0PERIOD"+Math.random()+"\0";function o(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function c(e){return e.split(n).join("\\").split(s).join("{").split(i).join("}").split(l).join(",").split(a).join(".")}function u(e){if(!e)return[""];var t=[],n=r("{","}",e);if(!n)return e.split(",");var s=n.pre,i=n.body,l=n.post,a=s.split(",");a[a.length-1]+="{"+i+"}";var o=u(l);return l.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),t.push.apply(t,a),t}function d(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function m(e,t){return e>=t}function p(e,t){var n=[],s=r("{","}",e);if(!s)return[e];var l=s.pre,a=s.post.length?p(s.post,!1):[""];if(/\$$/.test(s.pre))for(var c=0;c<a.length;c++){var b=l+"{"+s.body+"}"+a[c];n.push(b)}else{var y,Z,g=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),X=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),G=g||X,x=s.body.indexOf(",")>=0;if(!G&&!x)return s.post.match(/,.*\}/)?p(e=s.pre+"{"+s.body+i+s.post):[e];if(G)y=s.body.split(/\.\./);else if(1===(y=u(s.body)).length&&1===(y=p(y[0],!1).map(d)).length)return a.map((function(e){return s.pre+y[0]+e}));if(G){var w=o(y[0]),V=o(y[1]),W=Math.max(y[0].length,y[1].length),v=3==y.length?Math.abs(o(y[2])):1,R=f;V<w&&(v*=-1,R=m);var L=y.some(h);Z=[];for(var S=w;R(S,V);S+=v){var I;if(X)"\\"===(I=String.fromCharCode(S))&&(I="");else if(I=String(S),L){var H=W-I.length;if(H>0){var C=new Array(H+1).join("0");I=S<0?"-"+C+I.slice(1):C+I}}Z.push(I)}}else{Z=[];for(var k=0;k<y.length;k++)Z.push.apply(Z,p(y[k],!1))}for(k=0;k<Z.length;k++)for(c=0;c<a.length;c++)b=l+Z[k]+a[c],(!t||G||b)&&n.push(b)}return n}})),R={allowSharedBufferCodec:!1,manifestSupportsPaths:!1,crossOriginChecksEnforced:!0,fsAccess:!1,hasWorkerCapability:!(typeof globalThis<"u")||globalThis.crossOriginIsolated&&typeof SharedArrayBuffer<"u",supportsWasiPreview1:!0};async function L(e,t){if("application/octet-stream"===String(e.headers.get("Content-Type")).split(";")[0]){let t=new Headers(e.headers);t.set("Content-Type","application/wasm"),e=new Response(e.body,{status:e.status,statusText:e.statusText,headers:t})}let r=t?await e.clone().arrayBuffer():void 0;return{module:await WebAssembly.compileStreaming(e),data:r}}async function S(e,t){if(e instanceof ArrayBuffer)return{wasm:[{data:new Uint8Array(e)}]};if(e instanceof WebAssembly.Module)return{wasm:[{module:e}]};if("string"==typeof e){if(0===e.search(/^\s*\{/g))return JSON.parse(e);if(0!==e.search(/^(https?|file):\/\//))return{wasm:[{path:e}]};e=new URL(e)}if(e instanceof Response||"Response"===e?.constructor?.name){let r=e,n=r.headers.get("content-type")||"application/octet-stream";switch(n.split(";")[0]){case"application/octet-stream":case"application/wasm":return{wasm:[{response:r}]};case"application/json":case"text/json":return S(JSON.parse(await r.text()),t);default:throw new TypeError(`While processing manifest URL "${r.url}"; expected content-type of "text/json", "application/json", "application/octet-stream", or "application/wasm"; got "${n}" after stripping off charset.`)}}if(e instanceof URL)return S(await t(e,{redirect:"follow"}),t);if(!("wasm"in e))throw new TypeError('Expected "wasm" key in manifest');if(!Array.isArray(e.wasm))throw new TypeError('Expected "manifest.wasm" to be array');let r=e.wasm.findIndex((e=>!("data"in e||"url"in e||"path"in e||"module"in e||"response"in e)));if(r>-1)throw new TypeError(`Expected every item in "manifest.wasm" to include either a "data", "url", or "path" key; got bad item at index ${r}`);return{...e}}async function I(e,t=fetch){let r=await S(e,t);return r.config??={},r}var H,C,k=class extends DataView{constructor(e){super(e),x(this,C,null)}json(){return JSON.parse(this.string())}arrayBuffer(){return this.buffer}text(){return this.string()}string(){return G(k,H).decode(this.buffer)}bytes(){return G(this,C)??w(this,C,new Uint8Array(this.buffer)),G(this,C)}setInt8(e,t){throw new Error("Cannot set values on output")}setInt16(e,t,r){throw new Error("Cannot set values on output")}setInt32(e,t,r){throw new Error("Cannot set values on output")}setUint8(e,t){throw new Error("Cannot set values on output")}setUint16(e,t,r){throw new Error("Cannot set values on output")}setUint32(e,t,r){throw new Error("Cannot set values on output")}setFloat32(e,t,r){throw new Error("Cannot set values on output")}setFloat64(e,t,r){throw new Error("Cannot set values on output")}setBigInt64(e,t,r){throw new Error("Cannot set values on output")}setBigUint64(e,t,r){throw new Error("Cannot set values on output")}},z=k;H=new WeakMap,C=new WeakMap,x(z,H,new TextDecoder);var Y=Symbol("begin"),K=Symbol("end"),N=Symbol("env"),F=Symbol("get-block"),J=Symbol("import-state"),T=Symbol("export-state"),_=Symbol("store-value"),E=Symbol("reset"),M=class{buffer;view;local;get byteLength(){return this.buffer.byteLength}constructor(e,t){this.buffer=e,this.view=new DataView(this.buffer),this.local=t}static indexToAddress(e){return BigInt(e)<<48n}static addressToIndex(e){return Number(BigInt(e)>>48n)}static maskAddress(e){return Number(BigInt(e)&(1n<<48n)-1n)}},B=class{#e;#t=[];#r;#n;#s;#i;#l;#a=new Map;constructor(e,t,r){this.#i=e,this.#r=t,this.#n=new TextDecoder,this.#s=new TextEncoder,this.#e=[],this.alloc(1),this.#l=r}alloc(e){let t=new M(new this.#i(Number(e)),!0),r=this.#t.length;return this.#t.push(t),M.indexToAddress(r)}getVariable(e){return this.#a.has(e)?this.read(this.#a.get(e)):null}setVariable(e,t){let r=this[_](t);if(null===r)return 0n;let n=this.#a.get(e)??null;return null!==n&&(this.#t[n]=this.#t[r],this.#t[r]=null,r===this.#t.length-1&&this.#t.pop()),this.#a.set(e,n??r),M.indexToAddress(n??r)}read(e){let t=M.addressToIndex(e),r=this.#t[t];if(!r)return null;let n=r.buffer instanceof ArrayBuffer||R.allowSharedBufferCodec?r.buffer:new Uint8Array(r.buffer).slice().buffer;return new z(n)}store(e){let t=this[_](e);if(!t)throw new Error("failed to store output");return M.indexToAddress(t)}[N]={alloc:e=>this.alloc(e),free:e=>{this.#t[M.addressToIndex(e)]=null},load_u8:e=>{let t=M.addressToIndex(e),r=M.maskAddress(e);return this.#t[t]?.view.getUint8(Number(r))},load_u64:e=>{let t=M.addressToIndex(e),r=M.maskAddress(e);return this.#t[t]?.view.getBigUint64(Number(r),!0)},store_u8:(e,t)=>{let r=M.addressToIndex(e),n=M.maskAddress(e);this.#t[r]?.view.setUint8(Number(n),Number(t))},store_u64:(e,t)=>{let r=M.addressToIndex(e),n=M.maskAddress(e);this.#t[r]?.view.setBigUint64(Number(n),t,!0)},input_length:()=>BigInt(this.#o?.byteLength??0),input_load_u8:e=>{let t=M.maskAddress(e);return this.#o?.view.getUint8(Number(t))},input_load_u64:e=>{let t=M.maskAddress(e);return this.#o?.view.getBigUint64(Number(t),!0)},output_set:(e,t)=>{let r=M.addressToIndex(e),n=this.#t[r];if(!n)throw new Error(`cannot assign to this block (addr=${e.toString(16).padStart(16,"0")}; length=${t})`);if(t>n.buffer.byteLength)throw new Error("length longer than target block");this.#e[this.#e.length-1][1]=r},error_set:e=>{let t=M.addressToIndex(e);if(!this.#t[t])throw new Error("cannot assign to this block");this.#e[this.#e.length-1][2]=t},config_get:e=>{let t=this.read(e);if(null===t)return 0n;let r=t.string();return r in this.#l?this.store(this.#l[r]):0n},var_get:e=>{let t=this.read(e);if(null===t)return 0n;let r=t.string();return this.#a.has(r)?M.indexToAddress(this.#a.get(r)):0n},var_set:(e,t)=>{let r=this.read(e);if(null===r)return 0n;let n=r.string();if(0n===t)return this.#a.delete(n),0n;this.#a.set(n,M.addressToIndex(t))},http_request:(e,t)=>(this.#r.error("http_request is not enabled"),0n),http_status_code:()=>(this.#r.error("http_status_code is not enabled"),0),length:e=>{let t=M.addressToIndex(e),r=this.#t[t];return r?BigInt(r.buffer.byteLength):0n},log_warn:e=>{let t=M.addressToIndex(e),r=this.#t[t];if(!r)return this.#r.error(`failed to log(warn): bad block reference in addr 0x${e.toString(16).padStart(64,"0")}`);let n=this.#n.decode(r.buffer);this.#r.warn(n)},log_info:e=>{let t=M.addressToIndex(e),r=this.#t[t];if(!r)return this.#r.error(`failed to log(info): bad block reference in addr 0x${e.toString(16).padStart(64,"0")}`);let n=this.#n.decode(r.buffer);this.#r.info(n)},log_debug:e=>{let t=M.addressToIndex(e),r=this.#t[t];if(!r)return this.#r.error(`failed to log(debug): bad block reference in addr 0x${e.toString(16).padStart(64,"0")}`);let n=this.#n.decode(r.buffer);this.#r.debug(n)},log_error:e=>{let t=M.addressToIndex(e),r=this.#t[t];if(!r)return this.#r.error(`failed to log(error): bad block reference in addr 0x${e.toString(16).padStart(64,"0")}`);let n=this.#n.decode(r.buffer);this.#r.error(n)}};get#o(){let e=this.#e[this.#e.length-1][0];return null===e?null:this.#t[e]}[E](){this.#t.length=1,this.#e.length=0}[F](e){let t=this.#t[e];if(!t)throw new Error(`invalid block index: ${e}`);return t}[J](e,t=!1){for(let[r,n]of e.blocks){if(r&&t){let e=new Uint8Array(new this.#i(Number(r.byteLength)));e.set(new Uint8Array(r)),r=e.buffer}this.#t[n]=r?new M(r,!1):null}this.#e=e.stack}[T](){return{stack:this.#e.slice(),blocks:this.#t.map(((e,t)=>e?e.local?(e.local=!1,[e.buffer,t]):null:[null,t])).filter(Boolean)}}[_](e){if(!e)return null;if("string"==typeof e&&(e=this.#s.encode(e)),e instanceof Uint8Array){if(e.buffer.constructor===this.#i){let t=this.#t.length;return this.#t.push(new M(e.buffer,!0)),t}let t=M.addressToIndex(this.alloc(e.length)),r=this.#t[t];return new Uint8Array(r.buffer).set(e,0),t}return e}[Y](e){this.#e.push([e,null,null])}[K](){let[,e,t]=this.#e.pop(),r=null===t?1:0,n=t??e,s=[null,null];return null===n||null===this.#t[n]||(s[r]=n),s}},Q=class{static read_bytes(e,t){let r=new Q;return r.buf=e.getUint32(t,!0),r.buf_len=e.getUint32(t+4,!0),r}static read_bytes_array(e,t,r){let n=[];for(let s=0;s<r;s++)n.push(Q.read_bytes(e,t+8*s));return n}},O=class{static read_bytes(e,t){let r=new O;return r.buf=e.getUint32(t,!0),r.buf_len=e.getUint32(t+4,!0),r}static read_bytes_array(e,t,r){let n=[];for(let s=0;s<r;s++)n.push(O.read_bytes(e,t+8*s));return n}},U=class{write_bytes(e,t){e.setUint8(t,this.fs_filetype),e.setUint16(t+2,this.fs_flags,!0),e.setBigUint64(t+8,this.fs_rights_base,!0),e.setBigUint64(t+16,this.fs_rights_inherited,!0)}constructor(e,t){this.fs_rights_base=0n,this.fs_rights_inherited=0n,this.fs_filetype=e,this.fs_flags=t}},P=class{write_bytes(e,t){e.setBigUint64(t,this.dev,!0),e.setBigUint64(t+8,this.ino,!0),e.setUint8(t+16,this.filetype),e.setBigUint64(t+24,this.nlink,!0),e.setBigUint64(t+32,this.size,!0),e.setBigUint64(t+38,this.atim,!0),e.setBigUint64(t+46,this.mtim,!0),e.setBigUint64(t+52,this.ctim,!0)}constructor(e,t){this.dev=0n,this.ino=0n,this.nlink=0n,this.atim=0n,this.mtim=0n,this.ctim=0n,this.filetype=e,this.size=t}},A=class{start(e){this.inst=e,e.exports._start()}initialize(e){this.inst=e,e.exports._initialize()}constructor(e,t,r){this.args=[],this.env=[],this.fds=[],this.args=e,this.env=t,this.fds=r;let n=this;this.wasiImport={args_sizes_get(e,t){let r=new DataView(n.inst.exports.memory.buffer);r.setUint32(e,n.args.length,!0);let s=0;for(let e of n.args)s+=e.length+1;return r.setUint32(t,s,!0),0},args_get(e,t){let r=new DataView(n.inst.exports.memory.buffer),s=new Uint8Array(n.inst.exports.memory.buffer);for(let i=0;i<n.args.length;i++){r.setUint32(e,t,!0),e+=4;let l=new TextEncoder("utf-8").encode(n.args[i]);s.set(l,t),r.setUint8(t+l.length,0),t+=l.length+1}return 0},environ_sizes_get(e,t){let r=new DataView(n.inst.exports.memory.buffer);r.setUint32(e,n.env.length,!0);let s=0;for(let e of n.env)s+=e.length+1;return r.setUint32(t,s,!0),0},environ_get(e,r){let s=new DataView(n.inst.exports.memory.buffer),i=new Uint8Array(n.inst.exports.memory.buffer);for(let n=0;n<t.length;n++){s.setUint32(e,r,!0),e+=4;let l=new TextEncoder("utf-8").encode(t[n]);i.set(l,r),s.setUint8(r+l.length,0),r+=l.length+1}return 0},clock_res_get(e,t){throw"unimplemented"},clock_time_get(e,t,r){let s=new DataView(n.inst.exports.memory.buffer);if(0===e)s.setBigUint64(r,1000000n*BigInt((new Date).getTime()),!0);else if(1==e){let e;try{e=BigInt(Math.round(1e6*performance.now()))}catch{e=0n}s.setBigUint64(r,e,!0)}else s.setBigUint64(r,0n,!0);return 0},fd_advise:(e,t,r,s)=>null!=n.fds[e]?n.fds[e].fd_advise(t,r,s):8,fd_allocate:(e,t,r)=>null!=n.fds[e]?n.fds[e].fd_allocate(t,r):8,fd_close(e){if(null!=n.fds[e]){let t=n.fds[e].fd_close();return n.fds[e]=void 0,t}return 8},fd_datasync:e=>null!=n.fds[e]?n.fds[e].fd_datasync():8,fd_fdstat_get(e,t){if(null!=n.fds[e]){let{ret:r,fdstat:s}=n.fds[e].fd_fdstat_get();return s?.write_bytes(new DataView(n.inst.exports.memory.buffer),t),r}return 8},fd_fdstat_set_flags:(e,t)=>null!=n.fds[e]?n.fds[e].fd_fdstat_set_flags(t):8,fd_fdstat_set_rights:(e,t,r)=>null!=n.fds[e]?n.fds[e].fd_fdstat_set_rights(t,r):8,fd_filestat_get(e,t){if(null!=n.fds[e]){let{ret:r,filestat:s}=n.fds[e].fd_filestat_get();return s?.write_bytes(new DataView(n.inst.exports.memory.buffer),t),r}return 8},fd_filestat_set_size:(e,t)=>null!=n.fds[e]?n.fds[e].fd_filestat_set_size(t):8,fd_filestat_set_times:(e,t,r,s)=>null!=n.fds[e]?n.fds[e].fd_filestat_set_times(t,r,s):8,fd_pread(e,t,r,s,i){let l=new DataView(n.inst.exports.memory.buffer),a=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let o=Q.read_bytes_array(l,t,r),{ret:c,nread:u}=n.fds[e].fd_pread(a,o,s);return l.setUint32(i,u,!0),c}return 8},fd_prestat_get(e,t){let r=new DataView(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let{ret:s,prestat:i}=n.fds[e].fd_prestat_get();return i?.write_bytes(r,t),s}return 8},fd_prestat_dir_name(e,t,r){if(null!=n.fds[e]){let{ret:r,prestat_dir_name:s}=n.fds[e].fd_prestat_dir_name();return null!=s&&new Uint8Array(n.inst.exports.memory.buffer).set(s,t),r}return 8},fd_pwrite(e,t,r,s,i){let l=new DataView(n.inst.exports.memory.buffer),a=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let o=O.read_bytes_array(l,t,r),{ret:c,nwritten:u}=n.fds[e].fd_pwrite(a,o,s);return l.setUint32(i,u,!0),c}return 8},fd_read(e,t,r,s){let i=new DataView(n.inst.exports.memory.buffer),l=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let a=Q.read_bytes_array(i,t,r),{ret:o,nread:c}=n.fds[e].fd_read(l,a);return i.setUint32(s,c,!0),o}return 8},fd_readdir(e,t,r,s,i){let l=new DataView(n.inst.exports.memory.buffer),a=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let o=0;for(;;){let{ret:c,dirent:u}=n.fds[e].fd_readdir_single(s);if(0!=c)return l.setUint32(i,o,!0),c;if(null==u)break;if(r-o<u.head_length()){o=r;break}let d=new ArrayBuffer(u.head_length());if(u.write_head_bytes(new DataView(d),0),a.set(new Uint8Array(d).slice(0,Math.min(d.byteLength,r-o)),t),t+=u.head_length(),o+=u.head_length(),r-o<u.name_length()){o=r;break}u.write_name_bytes(a,t,r-o),t+=u.name_length(),o+=u.name_length(),s=u.d_next}return l.setUint32(i,o,!0),0}return 8},fd_renumber(e,t){if(null!=n.fds[e]&&null!=n.fds[t]){let r=n.fds[t].fd_close();return 0!=r?r:(n.fds[t]=n.fds[e],n.fds[e]=void 0,0)}return 8},fd_seek(e,t,r,s){let i=new DataView(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let{ret:l,offset:a}=n.fds[e].fd_seek(t,r);return i.setBigInt64(s,a,!0),l}return 8},fd_sync:e=>null!=n.fds[e]?n.fds[e].fd_sync():8,fd_tell(e,t){let r=new DataView(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let{ret:s,offset:i}=n.fds[e].fd_tell();return r.setBigUint64(t,i,!0),s}return 8},fd_write(e,t,r,s){let i=new DataView(n.inst.exports.memory.buffer),l=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let a=O.read_bytes_array(i,t,r),{ret:o,nwritten:c}=n.fds[e].fd_write(l,a);return i.setUint32(s,c,!0),o}return 8},path_create_directory(e,t,r){let s=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let i=new TextDecoder("utf-8").decode(s.slice(t,t+r));return n.fds[e].path_create_directory(i)}},path_filestat_get(e,t,r,s,i){let l=new DataView(n.inst.exports.memory.buffer),a=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let o=new TextDecoder("utf-8").decode(a.slice(r,r+s)),{ret:c,filestat:u}=n.fds[e].path_filestat_get(t,o);return u?.write_bytes(l,i),c}return 8},path_filestat_set_times(e,t,r,s,i,l,a){let o=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let c=new TextDecoder("utf-8").decode(o.slice(r,r+s));return n.fds[e].path_filestat_set_times(t,c,i,l,a)}return 8},path_link(e,t,r,s,i,l,a){let o=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]&&null!=n.fds[i]){let c=new TextDecoder("utf-8").decode(o.slice(r,r+s)),u=new TextDecoder("utf-8").decode(o.slice(l,l+a));return n.fds[i].path_link(e,t,c,u)}return 8},path_open(e,t,r,s,i,l,a,o,c){let u=new DataView(n.inst.exports.memory.buffer),d=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let h=new TextDecoder("utf-8").decode(d.slice(r,r+s)),{ret:f,fd_obj:m}=n.fds[e].path_open(t,h,i,l,a,o);if(0!=f)return f;n.fds.push(m);let p=n.fds.length-1;return u.setUint32(c,p,!0),0}return 8},path_readlink(e,t,r,s,i,l){let a=new DataView(n.inst.exports.memory.buffer),o=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let c=new TextDecoder("utf-8").decode(o.slice(t,t+r)),{ret:u,data:d}=n.fds[e].path_readlink(c);if(null!=d){if(d.length>i)return a.setUint32(l,0,!0),8;o.set(d,s),a.setUint32(l,d.length,!0)}return u}return 8},path_remove_directory(e,t,r){let s=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let i=new TextDecoder("utf-8").decode(s.slice(t,t+r));return n.fds[e].path_remove_directory(i)}return 8},path_rename(e,t,r,n,s,i){throw"FIXME what is the best abstraction for this?"},path_symlink(e,t,r,s,i){let l=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[r]){let a=new TextDecoder("utf-8").decode(l.slice(e,e+t)),o=new TextDecoder("utf-8").decode(l.slice(s,s+i));return n.fds[r].path_symlink(a,o)}return 8},path_unlink_file(e,t,r){let s=new Uint8Array(n.inst.exports.memory.buffer);if(null!=n.fds[e]){let i=new TextDecoder("utf-8").decode(s.slice(t,t+r));return n.fds[e].path_unlink_file(i)}return 8},poll_oneoff(e,t,r){throw"async io not supported"},proc_exit(e){throw"exit with exit code "+e},proc_raise(e){throw"raised signal "+e},sched_yield(){},random_get(e,t){let r=new Uint8Array(n.inst.exports.memory.buffer);for(let n=0;n<t;n++)r[e+n]=256*Math.random()|0},sock_recv(e,t,r){throw"sockets not supported"},sock_send(e,t,r){throw"sockets not supported"},sock_shutdown(e,t){throw"sockets not supported"}}}},j=class{fd_advise(e,t,r){return-1}fd_allocate(e,t){return-1}fd_close(){return 0}fd_datasync(){return-1}fd_fdstat_get(){return{ret:-1,fdstat:null}}fd_fdstat_set_flags(e){return-1}fd_fdstat_set_rights(e,t){return-1}fd_filestat_get(){return{ret:-1,filestat:null}}fd_filestat_set_size(e){return-1}fd_filestat_set_times(e,t,r){return-1}fd_pread(e,t,r){return{ret:-1,nread:0}}fd_prestat_get(){return{ret:-1,prestat:null}}fd_prestat_dir_name(e,t){return{ret:-1,prestat_dir_name:null}}fd_pwrite(e,t,r){return{ret:-1,nwritten:0}}fd_read(e,t){return{ret:-1,nread:0}}fd_readdir_single(e){return{ret:-1,dirent:null}}fd_seek(e,t){return{ret:-1,offset:0n}}fd_sync(){return 0}fd_tell(){return{ret:-1,offset:0n}}fd_write(e,t){return{ret:-1,nwritten:0}}path_create_directory(e){return-1}path_filestat_get(e,t){return{ret:-1,filestat:null}}path_filestat_set_times(e,t,r,n,s){return-1}path_link(e,t,r,n){return-1}path_open(e,t,r,n,s,i){return{ret:-1,fd_obj:null}}path_readlink(e){return{ret:-1,data:null}}path_remove_directory(e){return-1}path_rename(e,t,r){return-1}path_symlink(e,t){return-1}path_unlink_file(e){return-1}},D=class{get size(){return BigInt(this.data.byteLength)}stat(){return new P(4,this.size)}truncate(){this.data=new Uint8Array([])}constructor(e){this.data=new Uint8Array(e)}},q=class extends j{fd_fdstat_get(){return{ret:0,fdstat:new U(4,0)}}fd_read(e,t){let r=0;for(let n of t){if(!(this.file_pos<this.file.data.byteLength))break;{let t=this.file.data.slice(Number(this.file_pos),Number(this.file_pos+BigInt(n.buf_len)));e.set(t,n.buf),this.file_pos+=BigInt(t.length),r+=t.length}}return{ret:0,nread:r}}fd_seek(e,t){let r;switch(t){case 0:r=e;break;case 1:r=this.file_pos+e;break;case 2:r=BigInt(this.file.data.byteLength)+e;break;default:return{ret:28,offset:0n}}return r<0?{ret:28,offset:0n}:(this.file_pos=r,{ret:0,offset:this.file_pos})}fd_write(e,t){let r=0;for(let n of t){let t=e.slice(n.buf,n.buf+n.buf_len);if(this.file_pos+BigInt(t.byteLength)>this.file.size){let e=this.file.data;this.file.data=new Uint8Array(Number(this.file_pos+BigInt(t.byteLength))),this.file.data.set(e)}this.file.data.set(t.slice(0,Number(this.file.size-this.file_pos)),Number(this.file_pos)),this.file_pos+=BigInt(t.byteLength),r+=n.buf_len}return{ret:0,nwritten:r}}fd_filestat_get(){return{ret:0,filestat:this.file.stat()}}constructor(e){super(),this.file_pos=0n,this.file=e}},$="extism:host/env",ee=class{#e;#t;#r;#n=!1;constructor(e,t,r){this.#e=e,this.#r=t,this.#t=r}async reset(){return!this.isActive()&&(this.#e[E](),!0)}isActive(){return this.#n}async functionExists(e){try{let t=[].concat(e),[r,n]=2===t.length?[this.lookupTarget(t[0]),t[1]]:[this.#t.find((e=>WebAssembly.Module.exports(e.module).find((e=>e.name===t[0]&&"function"===e.kind)))),t[0]];return!(!r||!r.instance.exports[n])}catch{return!1}}async callBlock(e,t){this.#n=!0;let r=[].concat(e),[n,s]=2===r.length?[this.lookupTarget(r[0]),r[1]]:[this.#t.find((e=>WebAssembly.Module.exports(e.module).find((e=>e.name===r[0]&&"function"===e.kind)))),r[0]];if(!n)throw Error(`Plugin error: target "${r.join('" "')}" does not exist`);let i=n.instance.exports[s];if(!i)throw Error(`Plugin error: function "${r.join('" "')}" does not exist`);this.#e[Y](t??null);try{return i(),this.#e[K]()}catch(e){throw this.#e[K](),e}finally{this.#n=!1}}async call(e,t){let r=this.#e[_](t),[n,s]=await this.callBlock(e,r),i=null!==n,l=n??s;if(null===l)return null;let a=this.#e[F](l);if(!a)return null;let o=new z(a.buffer);if(i)throw new Error(`Plugin-originated error: ${o.string()}`);return o}lookupTarget(e){let t=String(e??"0"),r=this.#r.findIndex((e=>e===t));if(-1===r)throw new Error(`no module named "${e}"`);return this.#t[r]}async getExports(e){return WebAssembly.Module.exports(this.lookupTarget(e).module)||[]}async getImports(e){return WebAssembly.Module.imports(this.lookupTarget(e).module)||[]}async getInstance(e){return this.lookupTarget(e).instance}async close(){}};async function te(e,t,r,n=new B(ArrayBuffer,e.logger,e.config)){let s=e.wasiEnabled?await async function(e){let t=[new q(new D([])),new q(new D([])),new q(new D([]))],r=new A([],[],t);return{importObject:async()=>r.wasiImport,async initialize(e){let t=e.exports.memory;if(!t)throw new Error("The module has to export a default memory.");if(e.exports._initialize){let n=e.exports._initialize;r.initialize?r.initialize({exports:{memory:t,_initialize:()=>{n()}}}):n()}else e.exports._start&&r.start({exports:{memory:t,_start:()=>{}}})}}}(e.allowedPaths):null,i={...s?{wasi_snapshot_preview1:await s.importObject()}:{},[$]:n[N],env:{}};for(let t in e.functions){i[t]=i[t]||{};for(let r in e.functions[t])i[t][r]=e.functions[t][r].bind(null,n)}let l=await Promise.all(r.map((async e=>{let t=await WebAssembly.instantiate(e,i);s&&await(s?.initialize(t));let r=t.exports.hs_init?"haskell":t.exports._initialize?"reactor":t.exports._start?"command":"none";return(t.exports.hs_init?t.exports.hs_init:()=>{})(),{module:e,instance:t,guestType:r}})));return new ee(n,t,l)}var re,ne,se,ie,le,ae,oe,ce,ue,de,he,fe,me,pe,be,ye,Ze,ge,Xe,Ge,xe,we=new URL("data:text/javascript;base64,dmFyIGZ0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgdXQ9KHUsdCxyKT0+dCBpbiB1P2Z0KHUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pOnVbdF09cjt2YXIgRz0odSx0LHIpPT4odXQodSx0eXBlb2YgdCE9InN5bWJvbCI/dCsiIjp0LHIpLHIpLFE9KHUsdCxyKT0+e2lmKCF0Lmhhcyh1KSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCAiK3IpfTt2YXIgUz0odSx0LHIpPT4oUSh1LHQsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIikscj9yLmNhbGwodSk6dC5nZXQodSkpLE09KHUsdCxyKT0+e2lmKHQuaGFzKHUpKXRocm93IFR5cGVFcnJvcigiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZSIpO3QgaW5zdGFuY2VvZiBXZWFrU2V0P3QuYWRkKHUpOnQuc2V0KHUscil9LFo9KHUsdCxyLHMpPT4oUSh1LHQsIndyaXRlIHRvIHByaXZhdGUgZmllbGQiKSxzP3MuY2FsbCh1LHIpOnQuc2V0KHUscikscik7dmFyIHE9e29uKHUsdCl7YWRkRXZlbnRMaXN0ZW5lcih1LHI9Pnt0KHIuZGF0YSl9KX0scG9zdE1lc3NhZ2UodSx0PVtdKXtzZWxmLnBvc3RNZXNzYWdlKHUsdCl9fTt2YXIgRCxPLEg9Y2xhc3MgZXh0ZW5kcyBEYXRhVmlld3tjb25zdHJ1Y3RvcihyKXtzdXBlcihyKTtNKHRoaXMsTyxudWxsKX1qc29uKCl7cmV0dXJuIEpTT04ucGFyc2UodGhpcy5zdHJpbmcoKSl9YXJyYXlCdWZmZXIoKXtyZXR1cm4gdGhpcy5idWZmZXJ9dGV4dCgpe3JldHVybiB0aGlzLnN0cmluZygpfXN0cmluZygpe3JldHVybiBTKEgsRCkuZGVjb2RlKHRoaXMuYnVmZmVyKX1ieXRlcygpe3JldHVybiBTKHRoaXMsTyk/P1oodGhpcyxPLG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKSksUyh0aGlzLE8pfXNldEludDgocixzKXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzZXQgdmFsdWVzIG9uIG91dHB1dCIpfXNldEludDE2KHIscyxlKXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzZXQgdmFsdWVzIG9uIG91dHB1dCIpfXNldEludDMyKHIscyxlKXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzZXQgdmFsdWVzIG9uIG91dHB1dCIpfXNldFVpbnQ4KHIscyl7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc2V0IHZhbHVlcyBvbiBvdXRwdXQiKX1zZXRVaW50MTYocixzLGUpe3Rocm93IG5ldyBFcnJvcigiQ2Fubm90IHNldCB2YWx1ZXMgb24gb3V0cHV0Iil9c2V0VWludDMyKHIscyxlKXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzZXQgdmFsdWVzIG9uIG91dHB1dCIpfXNldEZsb2F0MzIocixzLGUpe3Rocm93IG5ldyBFcnJvcigiQ2Fubm90IHNldCB2YWx1ZXMgb24gb3V0cHV0Iil9c2V0RmxvYXQ2NChyLHMsZSl7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc2V0IHZhbHVlcyBvbiBvdXRwdXQiKX1zZXRCaWdJbnQ2NChyLHMsZSl7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc2V0IHZhbHVlcyBvbiBvdXRwdXQiKX1zZXRCaWdVaW50NjQocixzLGUpe3Rocm93IG5ldyBFcnJvcigiQ2Fubm90IHNldCB2YWx1ZXMgb24gb3V0cHV0Iil9fSx3PUg7RD1uZXcgV2Vha01hcCxPPW5ldyBXZWFrTWFwLE0odyxELG5ldyBUZXh0RGVjb2Rlcik7dmFyIEo9e2FsbG93U2hhcmVkQnVmZmVyQ29kZWM6ITEsbWFuaWZlc3RTdXBwb3J0c1BhdGhzOiExLGNyb3NzT3JpZ2luQ2hlY2tzRW5mb3JjZWQ6ITAsZnNBY2Nlc3M6ITEsaGFzV29ya2VyQ2FwYWJpbGl0eTp0eXBlb2YgZ2xvYmFsVGhpczwidSI/Z2xvYmFsVGhpcy5jcm9zc09yaWdpbklzb2xhdGVkJiZ0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI8InUiOiEwLHN1cHBvcnRzV2FzaVByZXZpZXcxOiEwfTt2YXIgdj1TeW1ib2woImJlZ2luIiksTD1TeW1ib2woImVuZCIpLFc9U3ltYm9sKCJlbnYiKSxWPVN5bWJvbCgiZ2V0LWJsb2NrIiksQz1TeW1ib2woImltcG9ydC1zdGF0ZSIpLEY9U3ltYm9sKCJleHBvcnQtc3RhdGUiKSxUPVN5bWJvbCgic3RvcmUtdmFsdWUiKSxZPVN5bWJvbCgicmVzZXQiKSxfPWNsYXNze2J1ZmZlcjt2aWV3O2xvY2FsO2dldCBieXRlTGVuZ3RoKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGh9Y29uc3RydWN0b3IodCxyKXt0aGlzLmJ1ZmZlcj10LHRoaXMudmlldz1uZXcgRGF0YVZpZXcodGhpcy5idWZmZXIpLHRoaXMubG9jYWw9cn1zdGF0aWMgaW5kZXhUb0FkZHJlc3ModCl7cmV0dXJuIEJpZ0ludCh0KTw8NDhufXN0YXRpYyBhZGRyZXNzVG9JbmRleCh0KXtyZXR1cm4gTnVtYmVyKEJpZ0ludCh0KT4+NDhuKX1zdGF0aWMgbWFza0FkZHJlc3ModCl7cmV0dXJuIE51bWJlcihCaWdJbnQodCkmKDFuPDw0OG4pLTFuKX19LEE9Y2xhc3N7I2U7I3Q9W107I3I7I247I2w7I2k7I287I3M9bmV3IE1hcDtjb25zdHJ1Y3Rvcih0LHIscyl7dGhpcy4jaT10LHRoaXMuI3I9cix0aGlzLiNuPW5ldyBUZXh0RGVjb2Rlcix0aGlzLiNsPW5ldyBUZXh0RW5jb2Rlcix0aGlzLiNlPVtdLHRoaXMuYWxsb2MoMSksdGhpcy4jbz1zfWFsbG9jKHQpe2xldCByPW5ldyBfKG5ldyB0aGlzLiNpKE51bWJlcih0KSksITApLHM9dGhpcy4jdC5sZW5ndGg7cmV0dXJuIHRoaXMuI3QucHVzaChyKSxfLmluZGV4VG9BZGRyZXNzKHMpfWdldFZhcmlhYmxlKHQpe3JldHVybiB0aGlzLiNzLmhhcyh0KT90aGlzLnJlYWQodGhpcy4jcy5nZXQodCkpOm51bGx9c2V0VmFyaWFibGUodCxyKXtsZXQgcz10aGlzW1RdKHIpO2lmKHM9PT1udWxsKXJldHVybiAwbjtsZXQgZT10aGlzLiNzLmdldCh0KT8/bnVsbDtyZXR1cm4gZSE9PW51bGwmJih0aGlzLiN0W2VdPXRoaXMuI3Rbc10sdGhpcy4jdFtzXT1udWxsLHM9PT10aGlzLiN0Lmxlbmd0aC0xJiZ0aGlzLiN0LnBvcCgpKSx0aGlzLiNzLnNldCh0LGU/P3MpLF8uaW5kZXhUb0FkZHJlc3MoZT8/cyl9cmVhZCh0KXtsZXQgcj1fLmFkZHJlc3NUb0luZGV4KHQpLHM9dGhpcy4jdFtyXTtpZighcylyZXR1cm4gbnVsbDtsZXQgZT0hKHMuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpJiYhSi5hbGxvd1NoYXJlZEJ1ZmZlckNvZGVjP25ldyBVaW50OEFycmF5KHMuYnVmZmVyKS5zbGljZSgpLmJ1ZmZlcjpzLmJ1ZmZlcjtyZXR1cm4gbmV3IHcoZSl9c3RvcmUodCl7bGV0IHI9dGhpc1tUXSh0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoImZhaWxlZCB0byBzdG9yZSBvdXRwdXQiKTtyZXR1cm4gXy5pbmRleFRvQWRkcmVzcyhyKX1bV109e2FsbG9jOnQ9PnRoaXMuYWxsb2ModCksZnJlZTp0PT57dGhpcy4jdFtfLmFkZHJlc3NUb0luZGV4KHQpXT1udWxsfSxsb2FkX3U4OnQ9PntsZXQgcj1fLmFkZHJlc3NUb0luZGV4KHQpLHM9Xy5tYXNrQWRkcmVzcyh0KTtyZXR1cm4gdGhpcy4jdFtyXT8udmlldy5nZXRVaW50OChOdW1iZXIocykpfSxsb2FkX3U2NDp0PT57bGV0IHI9Xy5hZGRyZXNzVG9JbmRleCh0KSxzPV8ubWFza0FkZHJlc3ModCk7cmV0dXJuIHRoaXMuI3Rbcl0/LnZpZXcuZ2V0QmlnVWludDY0KE51bWJlcihzKSwhMCl9LHN0b3JlX3U4Oih0LHIpPT57bGV0IHM9Xy5hZGRyZXNzVG9JbmRleCh0KSxlPV8ubWFza0FkZHJlc3ModCk7dGhpcy4jdFtzXT8udmlldy5zZXRVaW50OChOdW1iZXIoZSksTnVtYmVyKHIpKX0sc3RvcmVfdTY0Oih0LHIpPT57bGV0IHM9Xy5hZGRyZXNzVG9JbmRleCh0KSxlPV8ubWFza0FkZHJlc3ModCk7dGhpcy4jdFtzXT8udmlldy5zZXRCaWdVaW50NjQoTnVtYmVyKGUpLHIsITApfSxpbnB1dF9sZW5ndGg6KCk9PkJpZ0ludCh0aGlzLiNhPy5ieXRlTGVuZ3RoPz8wKSxpbnB1dF9sb2FkX3U4OnQ9PntsZXQgcj1fLm1hc2tBZGRyZXNzKHQpO3JldHVybiB0aGlzLiNhPy52aWV3LmdldFVpbnQ4KE51bWJlcihyKSl9LGlucHV0X2xvYWRfdTY0OnQ9PntsZXQgcj1fLm1hc2tBZGRyZXNzKHQpO3JldHVybiB0aGlzLiNhPy52aWV3LmdldEJpZ1VpbnQ2NChOdW1iZXIociksITApfSxvdXRwdXRfc2V0Oih0LHIpPT57bGV0IHM9Xy5hZGRyZXNzVG9JbmRleCh0KSxlPXRoaXMuI3Rbc107aWYoIWUpdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgYXNzaWduIHRvIHRoaXMgYmxvY2sgKGFkZHI9JHt0LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgxNiwiMCIpfTsgbGVuZ3RoPSR7cn0pYCk7aWYocj5lLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IG5ldyBFcnJvcigibGVuZ3RoIGxvbmdlciB0aGFuIHRhcmdldCBibG9jayIpO3RoaXMuI2VbdGhpcy4jZS5sZW5ndGgtMV1bMV09c30sZXJyb3Jfc2V0OnQ9PntsZXQgcj1fLmFkZHJlc3NUb0luZGV4KHQpO2lmKCF0aGlzLiN0W3JdKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGFzc2lnbiB0byB0aGlzIGJsb2NrIik7dGhpcy4jZVt0aGlzLiNlLmxlbmd0aC0xXVsyXT1yfSxjb25maWdfZ2V0OnQ9PntsZXQgcj10aGlzLnJlYWQodCk7aWYocj09PW51bGwpcmV0dXJuIDBuO2xldCBzPXIuc3RyaW5nKCk7cmV0dXJuIHMgaW4gdGhpcy4jbz90aGlzLnN0b3JlKHRoaXMuI29bc10pOjBufSx2YXJfZ2V0OnQ9PntsZXQgcj10aGlzLnJlYWQodCk7aWYocj09PW51bGwpcmV0dXJuIDBuO2xldCBzPXIuc3RyaW5nKCk7cmV0dXJuIHRoaXMuI3MuaGFzKHMpP18uaW5kZXhUb0FkZHJlc3ModGhpcy4jcy5nZXQocykpOjBufSx2YXJfc2V0Oih0LHIpPT57bGV0IHM9dGhpcy5yZWFkKHQpO2lmKHM9PT1udWxsKXJldHVybiAwbjtsZXQgZT1zLnN0cmluZygpO2lmKHI9PT0wbilyZXR1cm4gdGhpcy4jcy5kZWxldGUoZSksMG47dGhpcy4jcy5zZXQoZSxfLmFkZHJlc3NUb0luZGV4KHIpKX0saHR0cF9yZXF1ZXN0Oih0LHIpPT4odGhpcy4jci5lcnJvcigiaHR0cF9yZXF1ZXN0IGlzIG5vdCBlbmFibGVkIiksMG4pLGh0dHBfc3RhdHVzX2NvZGU6KCk9Pih0aGlzLiNyLmVycm9yKCJodHRwX3N0YXR1c19jb2RlIGlzIG5vdCBlbmFibGVkIiksMCksbGVuZ3RoOnQ9PntsZXQgcj1fLmFkZHJlc3NUb0luZGV4KHQpLHM9dGhpcy4jdFtyXTtyZXR1cm4gcz9CaWdJbnQocy5idWZmZXIuYnl0ZUxlbmd0aCk6MG59LGxvZ193YXJuOnQ9PntsZXQgcj1fLmFkZHJlc3NUb0luZGV4KHQpLHM9dGhpcy4jdFtyXTtpZighcylyZXR1cm4gdGhpcy4jci5lcnJvcihgZmFpbGVkIHRvIGxvZyh3YXJuKTogYmFkIGJsb2NrIHJlZmVyZW5jZSBpbiBhZGRyIDB4JHt0LnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2NCwiMCIpfWApO2xldCBlPXRoaXMuI24uZGVjb2RlKHMuYnVmZmVyKTt0aGlzLiNyLndhcm4oZSl9LGxvZ19pbmZvOnQ9PntsZXQgcj1fLmFkZHJlc3NUb0luZGV4KHQpLHM9dGhpcy4jdFtyXTtpZighcylyZXR1cm4gdGhpcy4jci5lcnJvcihgZmFpbGVkIHRvIGxvZyhpbmZvKTogYmFkIGJsb2NrIHJlZmVyZW5jZSBpbiBhZGRyIDB4JHt0LnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2NCwiMCIpfWApO2xldCBlPXRoaXMuI24uZGVjb2RlKHMuYnVmZmVyKTt0aGlzLiNyLmluZm8oZSl9LGxvZ19kZWJ1Zzp0PT57bGV0IHI9Xy5hZGRyZXNzVG9JbmRleCh0KSxzPXRoaXMuI3Rbcl07aWYoIXMpcmV0dXJuIHRoaXMuI3IuZXJyb3IoYGZhaWxlZCB0byBsb2coZGVidWcpOiBiYWQgYmxvY2sgcmVmZXJlbmNlIGluIGFkZHIgMHgke3QudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDY0LCIwIil9YCk7bGV0IGU9dGhpcy4jbi5kZWNvZGUocy5idWZmZXIpO3RoaXMuI3IuZGVidWcoZSl9LGxvZ19lcnJvcjp0PT57bGV0IHI9Xy5hZGRyZXNzVG9JbmRleCh0KSxzPXRoaXMuI3Rbcl07aWYoIXMpcmV0dXJuIHRoaXMuI3IuZXJyb3IoYGZhaWxlZCB0byBsb2coZXJyb3IpOiBiYWQgYmxvY2sgcmVmZXJlbmNlIGluIGFkZHIgMHgke3QudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDY0LCIwIil9YCk7bGV0IGU9dGhpcy4jbi5kZWNvZGUocy5idWZmZXIpO3RoaXMuI3IuZXJyb3IoZSl9fTtnZXQjYSgpe2xldCB0PXRoaXMuI2VbdGhpcy4jZS5sZW5ndGgtMV1bMF07cmV0dXJuIHQ9PT1udWxsP251bGw6dGhpcy4jdFt0XX1bWV0oKXt0aGlzLiN0Lmxlbmd0aD0xLHRoaXMuI2UubGVuZ3RoPTB9W1ZdKHQpe2xldCByPXRoaXMuI3RbdF07aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGJsb2NrIGluZGV4OiAke3R9YCk7cmV0dXJuIHJ9W0NdKHQscj0hMSl7Zm9yKGxldFtzLGVdb2YgdC5ibG9ja3Mpe2lmKHMmJnIpe2xldCBuPW5ldyBVaW50OEFycmF5KG5ldyB0aGlzLiNpKE51bWJlcihzLmJ5dGVMZW5ndGgpKSk7bi5zZXQobmV3IFVpbnQ4QXJyYXkocykpLHM9bi5idWZmZXJ9dGhpcy4jdFtlXT1zP25ldyBfKHMsITEpOm51bGx9dGhpcy4jZT10LnN0YWNrfVtGXSgpe3JldHVybntzdGFjazp0aGlzLiNlLnNsaWNlKCksYmxvY2tzOnRoaXMuI3QubWFwKCh0LHIpPT50P3QubG9jYWw/KHQubG9jYWw9ITEsW3QuYnVmZmVyLHJdKTpudWxsOltudWxsLHJdKS5maWx0ZXIoQm9vbGVhbil9fVtUXSh0KXtpZighdClyZXR1cm4gbnVsbDtpZih0eXBlb2YgdD09InN0cmluZyImJih0PXRoaXMuI2wuZW5jb2RlKHQpKSx0IGluc3RhbmNlb2YgVWludDhBcnJheSl7aWYodC5idWZmZXIuY29uc3RydWN0b3I9PT10aGlzLiNpKXtsZXQgbj10aGlzLiN0Lmxlbmd0aDtyZXR1cm4gdGhpcy4jdC5wdXNoKG5ldyBfKHQuYnVmZmVyLCEwKSksbn1sZXQgcj1fLmFkZHJlc3NUb0luZGV4KHRoaXMuYWxsb2ModC5sZW5ndGgpKSxzPXRoaXMuI3Rbcl07cmV0dXJuIG5ldyBVaW50OEFycmF5KHMuYnVmZmVyKS5zZXQodCwwKSxyfXJldHVybiB0fVt2XSh0KXt0aGlzLiNlLnB1c2goW3QsbnVsbCxudWxsXSl9W0xdKCl7bGV0Wyx0LHJdPXRoaXMuI2UucG9wKCkscz1yPT09bnVsbD8xOjAsZT1yPz90LG49W251bGwsbnVsbF07cmV0dXJuIGU9PT1udWxsfHx0aGlzLiN0W2VdPT09bnVsbHx8KG5bc109ZSksbn19O3ZhciB4PWNsYXNze3N0YXRpYyByZWFkX2J5dGVzKHQscil7bGV0IHM9bmV3IHg7cmV0dXJuIHMuYnVmPXQuZ2V0VWludDMyKHIsITApLHMuYnVmX2xlbj10LmdldFVpbnQzMihyKzQsITApLHN9c3RhdGljIHJlYWRfYnl0ZXNfYXJyYXkodCxyLHMpe2xldCBlPVtdO2ZvcihsZXQgbj0wO248cztuKyspZS5wdXNoKHgucmVhZF9ieXRlcyh0LHIrOCpuKSk7cmV0dXJuIGV9fSxtPWNsYXNze3N0YXRpYyByZWFkX2J5dGVzKHQscil7bGV0IHM9bmV3IG07cmV0dXJuIHMuYnVmPXQuZ2V0VWludDMyKHIsITApLHMuYnVmX2xlbj10LmdldFVpbnQzMihyKzQsITApLHN9c3RhdGljIHJlYWRfYnl0ZXNfYXJyYXkodCxyLHMpe2xldCBlPVtdO2ZvcihsZXQgbj0wO248cztuKyspZS5wdXNoKG0ucmVhZF9ieXRlcyh0LHIrOCpuKSk7cmV0dXJuIGV9fSx0dD0wLGV0PTEscnQ9Mjt2YXIgQj00O3ZhciBOdD0xPDwwLFN0PTE8PDEsRHQ9MTw8MixMdD0xPDwzLEN0PTE8PDQsaz1jbGFzc3t3cml0ZV9ieXRlcyh0LHIpe3Quc2V0VWludDgocix0aGlzLmZzX2ZpbGV0eXBlKSx0LnNldFVpbnQxNihyKzIsdGhpcy5mc19mbGFncywhMCksdC5zZXRCaWdVaW50NjQocis4LHRoaXMuZnNfcmlnaHRzX2Jhc2UsITApLHQuc2V0QmlnVWludDY0KHIrMTYsdGhpcy5mc19yaWdodHNfaW5oZXJpdGVkLCEwKX1jb25zdHJ1Y3Rvcih0LHIpe3RoaXMuZnNfcmlnaHRzX2Jhc2U9MG4sdGhpcy5mc19yaWdodHNfaW5oZXJpdGVkPTBuLHRoaXMuZnNfZmlsZXR5cGU9dCx0aGlzLmZzX2ZsYWdzPXJ9fSxGdD0xPDwwLGt0PTE8PDEsVXQ9MTw8MixCdD0xPDwzLGN0PTE8PDAsZHQ9MTw8MSxfdD0xPDwyLGh0PTE8PDMsVT1jbGFzc3t3cml0ZV9ieXRlcyh0LHIpe3Quc2V0QmlnVWludDY0KHIsdGhpcy5kZXYsITApLHQuc2V0QmlnVWludDY0KHIrOCx0aGlzLmlubywhMCksdC5zZXRVaW50OChyKzE2LHRoaXMuZmlsZXR5cGUpLHQuc2V0QmlnVWludDY0KHIrMjQsdGhpcy5ubGluaywhMCksdC5zZXRCaWdVaW50NjQociszMix0aGlzLnNpemUsITApLHQuc2V0QmlnVWludDY0KHIrMzgsdGhpcy5hdGltLCEwKSx0LnNldEJpZ1VpbnQ2NChyKzQ2LHRoaXMubXRpbSwhMCksdC5zZXRCaWdVaW50NjQocis1Mix0aGlzLmN0aW0sITApfWNvbnN0cnVjdG9yKHQscil7dGhpcy5kZXY9MG4sdGhpcy5pbm89MG4sdGhpcy5ubGluaz0wbix0aGlzLmF0aW09MG4sdGhpcy5tdGltPTBuLHRoaXMuY3RpbT0wbix0aGlzLmZpbGV0eXBlPXQsdGhpcy5zaXplPXJ9fTt2YXIgUHQ9MTw8MCxHdD0xPDwwO3ZhciBNdD0xPDwwLEh0PTE8PDEsdnQ9MTw8MCxXdD0xPDwwLFZ0PTE8PDE7dmFyIHo9Y2xhc3N7c3RhcnQodCl7dGhpcy5pbnN0PXQsdC5leHBvcnRzLl9zdGFydCgpfWluaXRpYWxpemUodCl7dGhpcy5pbnN0PXQsdC5leHBvcnRzLl9pbml0aWFsaXplKCl9Y29uc3RydWN0b3IodCxyLHMpe3RoaXMuYXJncz1bXSx0aGlzLmVudj1bXSx0aGlzLmZkcz1bXSx0aGlzLmFyZ3M9dCx0aGlzLmVudj1yLHRoaXMuZmRzPXM7bGV0IGU9dGhpczt0aGlzLndhc2lJbXBvcnQ9e2FyZ3Nfc2l6ZXNfZ2V0KG4saSl7bGV0IG89bmV3IERhdGFWaWV3KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO28uc2V0VWludDMyKG4sZS5hcmdzLmxlbmd0aCwhMCk7bGV0IGE9MDtmb3IobGV0IGwgb2YgZS5hcmdzKWErPWwubGVuZ3RoKzE7cmV0dXJuIG8uc2V0VWludDMyKGksYSwhMCksMH0sYXJnc19nZXQobixpKXtsZXQgbz1uZXcgRGF0YVZpZXcoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlciksYT1uZXcgVWludDhBcnJheShlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKSxsPWk7Zm9yKGxldCBmPTA7ZjxlLmFyZ3MubGVuZ3RoO2YrKyl7by5zZXRVaW50MzIobixpLCEwKSxuKz00O2xldCBjPW5ldyBUZXh0RW5jb2RlcigidXRmLTgiKS5lbmNvZGUoZS5hcmdzW2ZdKTthLnNldChjLGkpLG8uc2V0VWludDgoaStjLmxlbmd0aCwwKSxpKz1jLmxlbmd0aCsxfXJldHVybiAwfSxlbnZpcm9uX3NpemVzX2dldChuLGkpe2xldCBvPW5ldyBEYXRhVmlldyhlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtvLnNldFVpbnQzMihuLGUuZW52Lmxlbmd0aCwhMCk7bGV0IGE9MDtmb3IobGV0IGwgb2YgZS5lbnYpYSs9bC5sZW5ndGgrMTtyZXR1cm4gby5zZXRVaW50MzIoaSxhLCEwKSwwfSxlbnZpcm9uX2dldChuLGkpe2xldCBvPW5ldyBEYXRhVmlldyhlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKSxhPW5ldyBVaW50OEFycmF5KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpLGw9aTtmb3IobGV0IGY9MDtmPHIubGVuZ3RoO2YrKyl7by5zZXRVaW50MzIobixpLCEwKSxuKz00O2xldCBjPW5ldyBUZXh0RW5jb2RlcigidXRmLTgiKS5lbmNvZGUocltmXSk7YS5zZXQoYyxpKSxvLnNldFVpbnQ4KGkrYy5sZW5ndGgsMCksaSs9Yy5sZW5ndGgrMX1yZXR1cm4gMH0sY2xvY2tfcmVzX2dldChuLGkpe3Rocm93InVuaW1wbGVtZW50ZWQifSxjbG9ja190aW1lX2dldChuLGksbyl7bGV0IGE9bmV3IERhdGFWaWV3KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2lmKG49PT0wKWEuc2V0QmlnVWludDY0KG8sQmlnSW50KG5ldyBEYXRlKCkuZ2V0VGltZSgpKSoxMDAwMDAwbiwhMCk7ZWxzZSBpZihuPT0xKXtsZXQgbDt0cnl7bD1CaWdJbnQoTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKSoxZTYpKX1jYXRjaHtsPTBufWEuc2V0QmlnVWludDY0KG8sbCwhMCl9ZWxzZSBhLnNldEJpZ1VpbnQ2NChvLDBuLCEwKTtyZXR1cm4gMH0sZmRfYWR2aXNlKG4saSxvLGEpe3JldHVybiBlLmZkc1tuXSE9bnVsbD9lLmZkc1tuXS5mZF9hZHZpc2UoaSxvLGEpOjh9LGZkX2FsbG9jYXRlKG4saSxvKXtyZXR1cm4gZS5mZHNbbl0hPW51bGw/ZS5mZHNbbl0uZmRfYWxsb2NhdGUoaSxvKTo4fSxmZF9jbG9zZShuKXtpZihlLmZkc1tuXSE9bnVsbCl7bGV0IGk9ZS5mZHNbbl0uZmRfY2xvc2UoKTtyZXR1cm4gZS5mZHNbbl09dm9pZCAwLGl9ZWxzZSByZXR1cm4gOH0sZmRfZGF0YXN5bmMobil7cmV0dXJuIGUuZmRzW25dIT1udWxsP2UuZmRzW25dLmZkX2RhdGFzeW5jKCk6OH0sZmRfZmRzdGF0X2dldChuLGkpe2lmKGUuZmRzW25dIT1udWxsKXtsZXR7cmV0Om8sZmRzdGF0OmF9PWUuZmRzW25dLmZkX2Zkc3RhdF9nZXQoKTtyZXR1cm4gYT8ud3JpdGVfYnl0ZXMobmV3IERhdGFWaWV3KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpLGkpLG99ZWxzZSByZXR1cm4gOH0sZmRfZmRzdGF0X3NldF9mbGFncyhuLGkpe3JldHVybiBlLmZkc1tuXSE9bnVsbD9lLmZkc1tuXS5mZF9mZHN0YXRfc2V0X2ZsYWdzKGkpOjh9LGZkX2Zkc3RhdF9zZXRfcmlnaHRzKG4saSxvKXtyZXR1cm4gZS5mZHNbbl0hPW51bGw/ZS5mZHNbbl0uZmRfZmRzdGF0X3NldF9yaWdodHMoaSxvKTo4fSxmZF9maWxlc3RhdF9nZXQobixpKXtpZihlLmZkc1tuXSE9bnVsbCl7bGV0e3JldDpvLGZpbGVzdGF0OmF9PWUuZmRzW25dLmZkX2ZpbGVzdGF0X2dldCgpO3JldHVybiBhPy53cml0ZV9ieXRlcyhuZXcgRGF0YVZpZXcoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlciksaSksb31lbHNlIHJldHVybiA4fSxmZF9maWxlc3RhdF9zZXRfc2l6ZShuLGkpe3JldHVybiBlLmZkc1tuXSE9bnVsbD9lLmZkc1tuXS5mZF9maWxlc3RhdF9zZXRfc2l6ZShpKTo4fSxmZF9maWxlc3RhdF9zZXRfdGltZXMobixpLG8sYSl7cmV0dXJuIGUuZmRzW25dIT1udWxsP2UuZmRzW25dLmZkX2ZpbGVzdGF0X3NldF90aW1lcyhpLG8sYSk6OH0sZmRfcHJlYWQobixpLG8sYSxsKXtsZXQgZj1uZXcgRGF0YVZpZXcoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlciksYz1uZXcgVWludDhBcnJheShlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtpZihlLmZkc1tuXSE9bnVsbCl7bGV0IGQ9eC5yZWFkX2J5dGVzX2FycmF5KGYsaSxvKSx7cmV0OmIsbnJlYWQ6cH09ZS5mZHNbbl0uZmRfcHJlYWQoYyxkLGEpO3JldHVybiBmLnNldFVpbnQzMihsLHAsITApLGJ9ZWxzZSByZXR1cm4gOH0sZmRfcHJlc3RhdF9nZXQobixpKXtsZXQgbz1uZXcgRGF0YVZpZXcoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlcik7aWYoZS5mZHNbbl0hPW51bGwpe2xldHtyZXQ6YSxwcmVzdGF0Omx9PWUuZmRzW25dLmZkX3ByZXN0YXRfZ2V0KCk7cmV0dXJuIGw/LndyaXRlX2J5dGVzKG8saSksYX1lbHNlIHJldHVybiA4fSxmZF9wcmVzdGF0X2Rpcl9uYW1lKG4saSxvKXtpZihlLmZkc1tuXSE9bnVsbCl7bGV0e3JldDphLHByZXN0YXRfZGlyX25hbWU6bH09ZS5mZHNbbl0uZmRfcHJlc3RhdF9kaXJfbmFtZSgpO3JldHVybiBsIT1udWxsJiZuZXcgVWludDhBcnJheShlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKS5zZXQobCxpKSxhfWVsc2UgcmV0dXJuIDh9LGZkX3B3cml0ZShuLGksbyxhLGwpe2xldCBmPW5ldyBEYXRhVmlldyhlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKSxjPW5ldyBVaW50OEFycmF5KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2lmKGUuZmRzW25dIT1udWxsKXtsZXQgZD1tLnJlYWRfYnl0ZXNfYXJyYXkoZixpLG8pLHtyZXQ6Yixud3JpdHRlbjpwfT1lLmZkc1tuXS5mZF9wd3JpdGUoYyxkLGEpO3JldHVybiBmLnNldFVpbnQzMihsLHAsITApLGJ9ZWxzZSByZXR1cm4gOH0sZmRfcmVhZChuLGksbyxhKXtsZXQgbD1uZXcgRGF0YVZpZXcoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlciksZj1uZXcgVWludDhBcnJheShlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtpZihlLmZkc1tuXSE9bnVsbCl7bGV0IGM9eC5yZWFkX2J5dGVzX2FycmF5KGwsaSxvKSx7cmV0OmQsbnJlYWQ6Yn09ZS5mZHNbbl0uZmRfcmVhZChmLGMpO3JldHVybiBsLnNldFVpbnQzMihhLGIsITApLGR9ZWxzZSByZXR1cm4gOH0sZmRfcmVhZGRpcihuLGksbyxhLGwpe2xldCBmPW5ldyBEYXRhVmlldyhlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKSxjPW5ldyBVaW50OEFycmF5KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2lmKGUuZmRzW25dIT1udWxsKXtsZXQgZD0wO2Zvcig7Oyl7bGV0e3JldDpiLGRpcmVudDpwfT1lLmZkc1tuXS5mZF9yZWFkZGlyX3NpbmdsZShhKTtpZihiIT0wKXJldHVybiBmLnNldFVpbnQzMihsLGQsITApLGI7aWYocD09bnVsbClicmVhaztpZihvLWQ8cC5oZWFkX2xlbmd0aCgpKXtkPW87YnJlYWt9bGV0IEU9bmV3IEFycmF5QnVmZmVyKHAuaGVhZF9sZW5ndGgoKSk7aWYocC53cml0ZV9oZWFkX2J5dGVzKG5ldyBEYXRhVmlldyhFKSwwKSxjLnNldChuZXcgVWludDhBcnJheShFKS5zbGljZSgwLE1hdGgubWluKEUuYnl0ZUxlbmd0aCxvLWQpKSxpKSxpKz1wLmhlYWRfbGVuZ3RoKCksZCs9cC5oZWFkX2xlbmd0aCgpLG8tZDxwLm5hbWVfbGVuZ3RoKCkpe2Q9bzticmVha31wLndyaXRlX25hbWVfYnl0ZXMoYyxpLG8tZCksaSs9cC5uYW1lX2xlbmd0aCgpLGQrPXAubmFtZV9sZW5ndGgoKSxhPXAuZF9uZXh0fXJldHVybiBmLnNldFVpbnQzMihsLGQsITApLDB9ZWxzZSByZXR1cm4gOH0sZmRfcmVudW1iZXIobixpKXtpZihlLmZkc1tuXSE9bnVsbCYmZS5mZHNbaV0hPW51bGwpe2xldCBvPWUuZmRzW2ldLmZkX2Nsb3NlKCk7cmV0dXJuIG8hPTA/bzooZS5mZHNbaV09ZS5mZHNbbl0sZS5mZHNbbl09dm9pZCAwLDApfWVsc2UgcmV0dXJuIDh9LGZkX3NlZWsobixpLG8sYSl7bGV0IGw9bmV3IERhdGFWaWV3KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2lmKGUuZmRzW25dIT1udWxsKXtsZXR7cmV0OmYsb2Zmc2V0OmN9PWUuZmRzW25dLmZkX3NlZWsoaSxvKTtyZXR1cm4gbC5zZXRCaWdJbnQ2NChhLGMsITApLGZ9ZWxzZSByZXR1cm4gOH0sZmRfc3luYyhuKXtyZXR1cm4gZS5mZHNbbl0hPW51bGw/ZS5mZHNbbl0uZmRfc3luYygpOjh9LGZkX3RlbGwobixpKXtsZXQgbz1uZXcgRGF0YVZpZXcoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlcik7aWYoZS5mZHNbbl0hPW51bGwpe2xldHtyZXQ6YSxvZmZzZXQ6bH09ZS5mZHNbbl0uZmRfdGVsbCgpO3JldHVybiBvLnNldEJpZ1VpbnQ2NChpLGwsITApLGF9ZWxzZSByZXR1cm4gOH0sZmRfd3JpdGUobixpLG8sYSl7bGV0IGw9bmV3IERhdGFWaWV3KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpLGY9bmV3IFVpbnQ4QXJyYXkoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlcik7aWYoZS5mZHNbbl0hPW51bGwpe2xldCBjPW0ucmVhZF9ieXRlc19hcnJheShsLGksbykse3JldDpkLG53cml0dGVuOmJ9PWUuZmRzW25dLmZkX3dyaXRlKGYsYyk7cmV0dXJuIGwuc2V0VWludDMyKGEsYiwhMCksZH1lbHNlIHJldHVybiA4fSxwYXRoX2NyZWF0ZV9kaXJlY3RvcnkobixpLG8pe2xldCBhPW5ldyBVaW50OEFycmF5KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2lmKGUuZmRzW25dIT1udWxsKXtsZXQgbD1uZXcgVGV4dERlY29kZXIoInV0Zi04IikuZGVjb2RlKGEuc2xpY2UoaSxpK28pKTtyZXR1cm4gZS5mZHNbbl0ucGF0aF9jcmVhdGVfZGlyZWN0b3J5KGwpfX0scGF0aF9maWxlc3RhdF9nZXQobixpLG8sYSxsKXtsZXQgZj1uZXcgRGF0YVZpZXcoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlciksYz1uZXcgVWludDhBcnJheShlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtpZihlLmZkc1tuXSE9bnVsbCl7bGV0IGQ9bmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLmRlY29kZShjLnNsaWNlKG8sbythKSkse3JldDpiLGZpbGVzdGF0OnB9PWUuZmRzW25dLnBhdGhfZmlsZXN0YXRfZ2V0KGksZCk7cmV0dXJuIHA/LndyaXRlX2J5dGVzKGYsbCksYn1lbHNlIHJldHVybiA4fSxwYXRoX2ZpbGVzdGF0X3NldF90aW1lcyhuLGksbyxhLGwsZixjKXtsZXQgZD1uZXcgVWludDhBcnJheShlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtpZihlLmZkc1tuXSE9bnVsbCl7bGV0IGI9bmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLmRlY29kZShkLnNsaWNlKG8sbythKSk7cmV0dXJuIGUuZmRzW25dLnBhdGhfZmlsZXN0YXRfc2V0X3RpbWVzKGksYixsLGYsYyl9ZWxzZSByZXR1cm4gOH0scGF0aF9saW5rKG4saSxvLGEsbCxmLGMpe2xldCBkPW5ldyBVaW50OEFycmF5KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2lmKGUuZmRzW25dIT1udWxsJiZlLmZkc1tsXSE9bnVsbCl7bGV0IGI9bmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLmRlY29kZShkLnNsaWNlKG8sbythKSkscD1uZXcgVGV4dERlY29kZXIoInV0Zi04IikuZGVjb2RlKGQuc2xpY2UoZixmK2MpKTtyZXR1cm4gZS5mZHNbbF0ucGF0aF9saW5rKG4saSxiLHApfWVsc2UgcmV0dXJuIDh9LHBhdGhfb3BlbihuLGksbyxhLGwsZixjLGQsYil7bGV0IHA9bmV3IERhdGFWaWV3KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpLEU9bmV3IFVpbnQ4QXJyYXkoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlcik7aWYoZS5mZHNbbl0hPW51bGwpe2xldCBvdD1uZXcgVGV4dERlY29kZXIoInV0Zi04IikuZGVjb2RlKEUuc2xpY2UobyxvK2EpKSx7cmV0OiQsZmRfb2JqOmF0fT1lLmZkc1tuXS5wYXRoX29wZW4oaSxvdCxsLGYsYyxkKTtpZigkIT0wKXJldHVybiAkO2UuZmRzLnB1c2goYXQpO2xldCBsdD1lLmZkcy5sZW5ndGgtMTtyZXR1cm4gcC5zZXRVaW50MzIoYixsdCwhMCksMH1lbHNlIHJldHVybiA4fSxwYXRoX3JlYWRsaW5rKG4saSxvLGEsbCxmKXtsZXQgYz1uZXcgRGF0YVZpZXcoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlciksZD1uZXcgVWludDhBcnJheShlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtpZihlLmZkc1tuXSE9bnVsbCl7bGV0IGI9bmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLmRlY29kZShkLnNsaWNlKGksaStvKSkse3JldDpwLGRhdGE6RX09ZS5mZHNbbl0ucGF0aF9yZWFkbGluayhiKTtpZihFIT1udWxsKXtpZihFLmxlbmd0aD5sKXJldHVybiBjLnNldFVpbnQzMihmLDAsITApLDg7ZC5zZXQoRSxhKSxjLnNldFVpbnQzMihmLEUubGVuZ3RoLCEwKX1yZXR1cm4gcH1lbHNlIHJldHVybiA4fSxwYXRoX3JlbW92ZV9kaXJlY3RvcnkobixpLG8pe2xldCBhPW5ldyBVaW50OEFycmF5KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2lmKGUuZmRzW25dIT1udWxsKXtsZXQgbD1uZXcgVGV4dERlY29kZXIoInV0Zi04IikuZGVjb2RlKGEuc2xpY2UoaSxpK28pKTtyZXR1cm4gZS5mZHNbbl0ucGF0aF9yZW1vdmVfZGlyZWN0b3J5KGwpfWVsc2UgcmV0dXJuIDh9LHBhdGhfcmVuYW1lKG4saSxvLGEsbCxmKXt0aHJvdyJGSVhNRSB3aGF0IGlzIHRoZSBiZXN0IGFic3RyYWN0aW9uIGZvciB0aGlzPyJ9LHBhdGhfc3ltbGluayhuLGksbyxhLGwpe2xldCBmPW5ldyBVaW50OEFycmF5KGUuaW5zdC5leHBvcnRzLm1lbW9yeS5idWZmZXIpO2lmKGUuZmRzW29dIT1udWxsKXtsZXQgYz1uZXcgVGV4dERlY29kZXIoInV0Zi04IikuZGVjb2RlKGYuc2xpY2UobixuK2kpKSxkPW5ldyBUZXh0RGVjb2RlcigidXRmLTgiKS5kZWNvZGUoZi5zbGljZShhLGErbCkpO3JldHVybiBlLmZkc1tvXS5wYXRoX3N5bWxpbmsoYyxkKX1lbHNlIHJldHVybiA4fSxwYXRoX3VubGlua19maWxlKG4saSxvKXtsZXQgYT1uZXcgVWludDhBcnJheShlLmluc3QuZXhwb3J0cy5tZW1vcnkuYnVmZmVyKTtpZihlLmZkc1tuXSE9bnVsbCl7bGV0IGw9bmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLmRlY29kZShhLnNsaWNlKGksaStvKSk7cmV0dXJuIGUuZmRzW25dLnBhdGhfdW5saW5rX2ZpbGUobCl9ZWxzZSByZXR1cm4gOH0scG9sbF9vbmVvZmYobixpLG8pe3Rocm93ImFzeW5jIGlvIG5vdCBzdXBwb3J0ZWQifSxwcm9jX2V4aXQobil7dGhyb3ciZXhpdCB3aXRoIGV4aXQgY29kZSAiK259LHByb2NfcmFpc2Uobil7dGhyb3cicmFpc2VkIHNpZ25hbCAiK259LHNjaGVkX3lpZWxkKCl7fSxyYW5kb21fZ2V0KG4saSl7bGV0IG89bmV3IFVpbnQ4QXJyYXkoZS5pbnN0LmV4cG9ydHMubWVtb3J5LmJ1ZmZlcik7Zm9yKGxldCBhPTA7YTxpO2ErKylvW24rYV09TWF0aC5yYW5kb20oKSoyNTZ8MH0sc29ja19yZWN2KG4saSxvKXt0aHJvdyJzb2NrZXRzIG5vdCBzdXBwb3J0ZWQifSxzb2NrX3NlbmQobixpLG8pe3Rocm93InNvY2tldHMgbm90IHN1cHBvcnRlZCJ9LHNvY2tfc2h1dGRvd24obixpKXt0aHJvdyJzb2NrZXRzIG5vdCBzdXBwb3J0ZWQifX19fTt2YXIgTj1jbGFzc3tmZF9hZHZpc2UodCxyLHMpe3JldHVybi0xfWZkX2FsbG9jYXRlKHQscil7cmV0dXJuLTF9ZmRfY2xvc2UoKXtyZXR1cm4gMH1mZF9kYXRhc3luYygpe3JldHVybi0xfWZkX2Zkc3RhdF9nZXQoKXtyZXR1cm57cmV0Oi0xLGZkc3RhdDpudWxsfX1mZF9mZHN0YXRfc2V0X2ZsYWdzKHQpe3JldHVybi0xfWZkX2Zkc3RhdF9zZXRfcmlnaHRzKHQscil7cmV0dXJuLTF9ZmRfZmlsZXN0YXRfZ2V0KCl7cmV0dXJue3JldDotMSxmaWxlc3RhdDpudWxsfX1mZF9maWxlc3RhdF9zZXRfc2l6ZSh0KXtyZXR1cm4tMX1mZF9maWxlc3RhdF9zZXRfdGltZXModCxyLHMpe3JldHVybi0xfWZkX3ByZWFkKHQscixzKXtyZXR1cm57cmV0Oi0xLG5yZWFkOjB9fWZkX3ByZXN0YXRfZ2V0KCl7cmV0dXJue3JldDotMSxwcmVzdGF0Om51bGx9fWZkX3ByZXN0YXRfZGlyX25hbWUodCxyKXtyZXR1cm57cmV0Oi0xLHByZXN0YXRfZGlyX25hbWU6bnVsbH19ZmRfcHdyaXRlKHQscixzKXtyZXR1cm57cmV0Oi0xLG53cml0dGVuOjB9fWZkX3JlYWQodCxyKXtyZXR1cm57cmV0Oi0xLG5yZWFkOjB9fWZkX3JlYWRkaXJfc2luZ2xlKHQpe3JldHVybntyZXQ6LTEsZGlyZW50Om51bGx9fWZkX3NlZWsodCxyKXtyZXR1cm57cmV0Oi0xLG9mZnNldDowbn19ZmRfc3luYygpe3JldHVybiAwfWZkX3RlbGwoKXtyZXR1cm57cmV0Oi0xLG9mZnNldDowbn19ZmRfd3JpdGUodCxyKXtyZXR1cm57cmV0Oi0xLG53cml0dGVuOjB9fXBhdGhfY3JlYXRlX2RpcmVjdG9yeSh0KXtyZXR1cm4tMX1wYXRoX2ZpbGVzdGF0X2dldCh0LHIpe3JldHVybntyZXQ6LTEsZmlsZXN0YXQ6bnVsbH19cGF0aF9maWxlc3RhdF9zZXRfdGltZXModCxyLHMsZSxuKXtyZXR1cm4tMX1wYXRoX2xpbmsodCxyLHMsZSl7cmV0dXJuLTF9cGF0aF9vcGVuKHQscixzLGUsbixpKXtyZXR1cm57cmV0Oi0xLGZkX29iajpudWxsfX1wYXRoX3JlYWRsaW5rKHQpe3JldHVybntyZXQ6LTEsZGF0YTpudWxsfX1wYXRoX3JlbW92ZV9kaXJlY3RvcnkodCl7cmV0dXJuLTF9cGF0aF9yZW5hbWUodCxyLHMpe3JldHVybi0xfXBhdGhfc3ltbGluayh0LHIpe3JldHVybi0xfXBhdGhfdW5saW5rX2ZpbGUodCl7cmV0dXJuLTF9fTt2YXIgUj1jbGFzc3tnZXQgc2l6ZSgpe3JldHVybiBCaWdJbnQodGhpcy5kYXRhLmJ5dGVMZW5ndGgpfXN0YXQoKXtyZXR1cm4gbmV3IFUoQix0aGlzLnNpemUpfXRydW5jYXRlKCl7dGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KFtdKX1jb25zdHJ1Y3Rvcih0KXt0aGlzLmRhdGE9bmV3IFVpbnQ4QXJyYXkodCl9fTt2YXIgeT1jbGFzcyBleHRlbmRzIE57ZmRfZmRzdGF0X2dldCgpe3JldHVybntyZXQ6MCxmZHN0YXQ6bmV3IGsoQiwwKX19ZmRfcmVhZCh0LHIpe2xldCBzPTA7Zm9yKGxldCBlIG9mIHIpaWYodGhpcy5maWxlX3Bvczx0aGlzLmZpbGUuZGF0YS5ieXRlTGVuZ3RoKXtsZXQgbj10aGlzLmZpbGUuZGF0YS5zbGljZShOdW1iZXIodGhpcy5maWxlX3BvcyksTnVtYmVyKHRoaXMuZmlsZV9wb3MrQmlnSW50KGUuYnVmX2xlbikpKTt0LnNldChuLGUuYnVmKSx0aGlzLmZpbGVfcG9zKz1CaWdJbnQobi5sZW5ndGgpLHMrPW4ubGVuZ3RofWVsc2UgYnJlYWs7cmV0dXJue3JldDowLG5yZWFkOnN9fWZkX3NlZWsodCxyKXtsZXQgcztzd2l0Y2gocil7Y2FzZSB0dDpzPXQ7YnJlYWs7Y2FzZSBldDpzPXRoaXMuZmlsZV9wb3MrdDticmVhaztjYXNlIHJ0OnM9QmlnSW50KHRoaXMuZmlsZS5kYXRhLmJ5dGVMZW5ndGgpK3Q7YnJlYWs7ZGVmYXVsdDpyZXR1cm57cmV0OjI4LG9mZnNldDowbn19cmV0dXJuIHM8MD97cmV0OjI4LG9mZnNldDowbn06KHRoaXMuZmlsZV9wb3M9cyx7cmV0OjAsb2Zmc2V0OnRoaXMuZmlsZV9wb3N9KX1mZF93cml0ZSh0LHIpe2xldCBzPTA7Zm9yKGxldCBlIG9mIHIpe2xldCBuPXQuc2xpY2UoZS5idWYsZS5idWYrZS5idWZfbGVuKTtpZih0aGlzLmZpbGVfcG9zK0JpZ0ludChuLmJ5dGVMZW5ndGgpPnRoaXMuZmlsZS5zaXplKXtsZXQgaT10aGlzLmZpbGUuZGF0YTt0aGlzLmZpbGUuZGF0YT1uZXcgVWludDhBcnJheShOdW1iZXIodGhpcy5maWxlX3BvcytCaWdJbnQobi5ieXRlTGVuZ3RoKSkpLHRoaXMuZmlsZS5kYXRhLnNldChpKX10aGlzLmZpbGUuZGF0YS5zZXQobi5zbGljZSgwLE51bWJlcih0aGlzLmZpbGUuc2l6ZS10aGlzLmZpbGVfcG9zKSksTnVtYmVyKHRoaXMuZmlsZV9wb3MpKSx0aGlzLmZpbGVfcG9zKz1CaWdJbnQobi5ieXRlTGVuZ3RoKSxzKz1lLmJ1Zl9sZW59cmV0dXJue3JldDowLG53cml0dGVuOnN9fWZkX2ZpbGVzdGF0X2dldCgpe3JldHVybntyZXQ6MCxmaWxlc3RhdDp0aGlzLmZpbGUuc3RhdCgpfX1jb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuZmlsZV9wb3M9MG4sdGhpcy5maWxlPXR9fTthc3luYyBmdW5jdGlvbiBzdCh1KXtsZXQgdD1bXSxyPVtdLHM9W25ldyB5KG5ldyBSKFtdKSksbmV3IHkobmV3IFIoW10pKSxuZXcgeShuZXcgUihbXSkpXSxlPW5ldyB6KHQscixzKTtyZXR1cm57YXN5bmMgaW1wb3J0T2JqZWN0KCl7cmV0dXJuIGUud2FzaUltcG9ydH0sYXN5bmMgaW5pdGlhbGl6ZShuKXtsZXQgaT1uLmV4cG9ydHMubWVtb3J5O2lmKCFpKXRocm93IG5ldyBFcnJvcigiVGhlIG1vZHVsZSBoYXMgdG8gZXhwb3J0IGEgZGVmYXVsdCBtZW1vcnkuIik7aWYobi5leHBvcnRzLl9pbml0aWFsaXplKXtsZXQgbz1uLmV4cG9ydHMuX2luaXRpYWxpemU7ZS5pbml0aWFsaXplP2UuaW5pdGlhbGl6ZSh7ZXhwb3J0czp7bWVtb3J5OmksX2luaXRpYWxpemU6KCk9PntvKCl9fX0pOm8oKX1lbHNlIG4uZXhwb3J0cy5fc3RhcnQmJmUuc3RhcnQoe2V4cG9ydHM6e21lbW9yeTppLF9zdGFydDooKT0+e319fSl9fX12YXIgeHQ9ImV4dGlzbTpob3N0L2VudiIsWD1jbGFzc3sjZTsjdDsjcjsjbj0hMTtjb25zdHJ1Y3Rvcih0LHIscyl7dGhpcy4jZT10LHRoaXMuI3I9cix0aGlzLiN0PXN9YXN5bmMgcmVzZXQoKXtyZXR1cm4gdGhpcy5pc0FjdGl2ZSgpPyExOih0aGlzLiNlW1ldKCksITApfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuI259YXN5bmMgZnVuY3Rpb25FeGlzdHModCl7dHJ5e2xldCByPVtdLmNvbmNhdCh0KSxbcyxlXT1yLmxlbmd0aD09PTI/W3RoaXMubG9va3VwVGFyZ2V0KHJbMF0pLHJbMV1dOlt0aGlzLiN0LmZpbmQoaT0+V2ViQXNzZW1ibHkuTW9kdWxlLmV4cG9ydHMoaS5tb2R1bGUpLmZpbmQoYT0+YS5uYW1lPT09clswXSYmYS5raW5kPT09ImZ1bmN0aW9uIikpLHJbMF1dO3JldHVybiEoIXN8fCFzLmluc3RhbmNlLmV4cG9ydHNbZV0pfWNhdGNoe3JldHVybiExfX1hc3luYyBjYWxsQmxvY2sodCxyKXt0aGlzLiNuPSEwO2xldCBzPVtdLmNvbmNhdCh0KSxbZSxuXT1zLmxlbmd0aD09PTI/W3RoaXMubG9va3VwVGFyZ2V0KHNbMF0pLHNbMV1dOlt0aGlzLiN0LmZpbmQobz0+V2ViQXNzZW1ibHkuTW9kdWxlLmV4cG9ydHMoby5tb2R1bGUpLmZpbmQobD0+bC5uYW1lPT09c1swXSYmbC5raW5kPT09ImZ1bmN0aW9uIikpLHNbMF1dO2lmKCFlKXRocm93IEVycm9yKGBQbHVnaW4gZXJyb3I6IHRhcmdldCAiJHtzLmpvaW4oJyIgIicpfSIgZG9lcyBub3QgZXhpc3RgKTtsZXQgaT1lLmluc3RhbmNlLmV4cG9ydHNbbl07aWYoIWkpdGhyb3cgRXJyb3IoYFBsdWdpbiBlcnJvcjogZnVuY3Rpb24gIiR7cy5qb2luKCciICInKX0iIGRvZXMgbm90IGV4aXN0YCk7dGhpcy4jZVt2XShyPz9udWxsKTt0cnl7cmV0dXJuIGkoKSx0aGlzLiNlW0xdKCl9Y2F0Y2gobyl7dGhyb3cgdGhpcy4jZVtMXSgpLG99ZmluYWxseXt0aGlzLiNuPSExfX1hc3luYyBjYWxsKHQscil7bGV0IHM9dGhpcy4jZVtUXShyKSxbZSxuXT1hd2FpdCB0aGlzLmNhbGxCbG9jayh0LHMpLGk9ZSE9PW51bGwsbz1lPz9uO2lmKG89PT1udWxsKXJldHVybiBudWxsO2xldCBhPXRoaXMuI2VbVl0obyk7aWYoIWEpcmV0dXJuIG51bGw7bGV0IGw9bmV3IHcoYS5idWZmZXIpO2lmKGkpdGhyb3cgbmV3IEVycm9yKGBQbHVnaW4tb3JpZ2luYXRlZCBlcnJvcjogJHtsLnN0cmluZygpfWApO3JldHVybiBsfWxvb2t1cFRhcmdldCh0KXtsZXQgcj1TdHJpbmcodD8/IjAiKSxzPXRoaXMuI3IuZmluZEluZGV4KGU9PmU9PT1yKTtpZihzPT09LTEpdGhyb3cgbmV3IEVycm9yKGBubyBtb2R1bGUgbmFtZWQgIiR7dH0iYCk7cmV0dXJuIHRoaXMuI3Rbc119YXN5bmMgZ2V0RXhwb3J0cyh0KXtyZXR1cm4gV2ViQXNzZW1ibHkuTW9kdWxlLmV4cG9ydHModGhpcy5sb29rdXBUYXJnZXQodCkubW9kdWxlKXx8W119YXN5bmMgZ2V0SW1wb3J0cyh0KXtyZXR1cm4gV2ViQXNzZW1ibHkuTW9kdWxlLmltcG9ydHModGhpcy5sb29rdXBUYXJnZXQodCkubW9kdWxlKXx8W119YXN5bmMgZ2V0SW5zdGFuY2UodCl7cmV0dXJuIHRoaXMubG9va3VwVGFyZ2V0KHQpLmluc3RhbmNlfWFzeW5jIGNsb3NlKCl7fX07YXN5bmMgZnVuY3Rpb24gaXQodSx0LHIscz1uZXcgQShBcnJheUJ1ZmZlcix1LmxvZ2dlcix1LmNvbmZpZykpe2xldCBlPXUud2FzaUVuYWJsZWQ/YXdhaXQgc3QodS5hbGxvd2VkUGF0aHMpOm51bGwsbj17Li4uZT97d2FzaV9zbmFwc2hvdF9wcmV2aWV3MTphd2FpdCBlLmltcG9ydE9iamVjdCgpfTp7fSxbeHRdOnNbV10sZW52Ont9fTtmb3IobGV0IG8gaW4gdS5mdW5jdGlvbnMpe25bb109bltvXXx8e307Zm9yKGxldCBhIGluIHUuZnVuY3Rpb25zW29dKW5bb11bYV09dS5mdW5jdGlvbnNbb11bYV0uYmluZChudWxsLHMpfWxldCBpPWF3YWl0IFByb21pc2UuYWxsKHIubWFwKGFzeW5jIG89PntsZXQgYT1hd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShvLG4pO2UmJmF3YWl0IGU/LmluaXRpYWxpemUoYSk7bGV0IGw9YS5leHBvcnRzLmhzX2luaXQ/Imhhc2tlbGwiOmEuZXhwb3J0cy5faW5pdGlhbGl6ZT8icmVhY3RvciI6YS5leHBvcnRzLl9zdGFydD8iY29tbWFuZCI6Im5vbmUiO3JldHVybihhLmV4cG9ydHMuaHNfaW5pdD9hLmV4cG9ydHMuaHNfaW5pdDooKT0+e30pKCkse21vZHVsZTpvLGluc3RhbmNlOmEsZ3Vlc3RUeXBlOmx9fSkpO3JldHVybiBuZXcgWChzLHQsaSl9dmFyIFA9NWUzLGo9Y2xhc3N7aG9zdEZsYWc7c2hhcmVkRGF0YTtzaGFyZWREYXRhVmlldztwbHVnaW47cG9ydDtkeW5hbWljSGFuZGxlcnM7Y29udGV4dDtjb25zdHJ1Y3Rvcih0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIlRoaXMgc2hvdWxkIGJlIHVucmVhY2hhYmxlOiB0aGlzIG1vZHVsZSBzaG91bGQgb25seSBiZSBpbnZva2VkIGFzIGEgd2ViIHdvcmtlci4iKTt0aGlzLnNoYXJlZERhdGE9bnVsbCx0aGlzLnNoYXJlZERhdGFWaWV3PW51bGwsdGhpcy5ob3N0RmxhZz1udWxsLHRoaXMucG9ydD10LHRoaXMucG9ydC5vbigibWVzc2FnZSIscj0+dGhpcy5oYW5kbGVNZXNzYWdlKHIpKSx0aGlzLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6ImluaXRpYWxpemVkIn0pLHRoaXMuZHluYW1pY0hhbmRsZXJzPW5ldyBNYXAsdGhpcy5keW5hbWljSGFuZGxlcnMuc2V0KCJjYWxsIixhc3luYyhyLHMsZSxuKT0+e2lmKCF0aGlzLmNvbnRleHQpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHN0YXRlOiBubyBjb250ZXh0IGF2YWlsYWJsZSB0byB3b3JrZXIgcmVhY3RvciIpO3RoaXMuY29udGV4dFtDXShuKTtsZXQgaT1hd2FpdCB0aGlzLnBsdWdpbj8uY2FsbEJsb2NrKHMsZSkudGhlbihvPT5bbnVsbCxvXSxvPT5bbyxudWxsXSk7bj10aGlzLmNvbnRleHRbRl0oKTtmb3IobGV0W29db2Ygbi5ibG9ja3MpbyYmci5wdXNoKG8pO3JldHVybiBpWzBdJiYoaVswXT17b3JpZ2luYWxTdGFjazppWzBdPy5zdGFjayxtZXNzYWdlOmlbMF0/Lm1lc3NhZ2V9KSx7cmVzdWx0czppLHN0YXRlOm59fSksdGhpcy5keW5hbWljSGFuZGxlcnMuc2V0KCJyZXNldCIsYXN5bmMgcj0+dGhpcy5wbHVnaW4/LnJlc2V0KCkpLHRoaXMuZHluYW1pY0hhbmRsZXJzLnNldCgiZ2V0RXhwb3J0cyIsYXN5bmMocixzKT0+dGhpcy5wbHVnaW4/LmdldEV4cG9ydHMocykpLHRoaXMuZHluYW1pY0hhbmRsZXJzLnNldCgiZ2V0SW1wb3J0cyIsYXN5bmMocixzKT0+dGhpcy5wbHVnaW4/LmdldEltcG9ydHMocykpLHRoaXMuZHluYW1pY0hhbmRsZXJzLnNldCgiZnVuY3Rpb25FeGlzdHMiLGFzeW5jKHIscyk9PnRoaXMucGx1Z2luPy5mdW5jdGlvbkV4aXN0cyhzKSl9YXN5bmMgaGFuZGxlTWVzc2FnZSh0KXtzd2l0Y2godC50eXBlKXtjYXNlImluaXQiOnJldHVybiBhd2FpdCB0aGlzLmhhbmRsZUluaXQodCk7Y2FzZSJpbnZva2UiOnJldHVybiBhd2FpdCB0aGlzLmhhbmRsZUludm9rZSh0KX19YXN5bmMgaGFuZGxlSW52b2tlKHQpe2xldCByPXRoaXMuZHluYW1pY0hhbmRsZXJzLmdldCh0LmhhbmRsZXIpO2lmKCFyKXJldHVybiB0aGlzLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6InJldHVybiIscmVzdWx0Oltgbm8gaGFuZGxlciByZWdpc3RlcmVkIGZvciAke3QuaGFuZGxlcn1gLG51bGxdfSk7bGV0IHM9W10sZT1hd2FpdCByKHMsLi4udC5hcmdzfHxbXSkudGhlbihuPT5bbnVsbCxuXSxuPT5bbixudWxsXSk7cmV0dXJuIGVbMF0mJihlWzBdPXtvcmlnaW5hbFN0YWNrOmVbMF0/LnN0YWNrLG1lc3NhZ2U6ZVswXT8ubWVzc2FnZX0pLHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7dHlwZToicmV0dXJuIixyZXN1bHRzOmV9LHMpfWFzeW5jIGhhbmRsZUluaXQodCl7dGhpcy5zaGFyZWREYXRhPXQuc2hhcmVkRGF0YSx0aGlzLnNoYXJlZERhdGFWaWV3PW5ldyBEYXRhVmlldyh0LnNoYXJlZERhdGEpLHRoaXMuaG9zdEZsYWc9bmV3IEludDMyQXJyYXkodGhpcy5zaGFyZWREYXRhKTtsZXQgcj1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModC5mdW5jdGlvbnMpLm1hcCgoW2wsZl0pPT5bbCxPYmplY3QuZnJvbUVudHJpZXMoZi5tYXAoYz0+W2MsKGQsLi4uYik9PnRoaXMuY2FsbEhvc3QoZCxsLGMsYildKSldKSkse3R5cGU6cyxtb2R1bGVzOmUsZnVuY3Rpb25zOm4sLi4uaX09dCxvPWw9PmY9PnRoaXMucG9ydC5wb3N0TWVzc2FnZSh7dHlwZToibG9nIixsZXZlbDpsLG1lc3NhZ2U6Zn0pLGE9T2JqZWN0LmZyb21FbnRyaWVzKFsiaW5mbyIsImRlYnVnIiwid2FybiIsImVycm9yIl0ubWFwKGw9PltsLG8obCldKSk7dGhpcy5jb250ZXh0PW5ldyBBKEFycmF5QnVmZmVyLGEsdC5jb25maWcpLHRoaXMucGx1Z2luPWF3YWl0IGl0KHsuLi5pLGZ1bmN0aW9uczpyLGZldGNoLGxvZ2dlcjphfSx0Lm5hbWVzLGUsdGhpcy5jb250ZXh0KSx0aGlzLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6InJlYWR5In0pfWNhbGxIb3N0KHQscixzLGUpe2lmKCF0aGlzLmhvc3RGbGFnKXRocm93IG5ldyBFcnJvcigiYXR0ZW1wdGVkIHRvIGNhbGwgaG9zdCBiZWZvcmUgcmVjZWl2aW5nIHNoYXJlZCBhcnJheSBidWZmZXIiKTtsZXQgbj10W0ZdKCk7dGhpcy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOiJpbnZva2UiLG5hbWVzcGFjZTpyLGZ1bmM6cyxhcmdzOmUsc3RhdGU6bn0pO2xldCBpPW5ldyBJKHRoaXMuc2hhcmVkRGF0YSksbz1bXSxhO2Rve2xldCBsPWkucmVhZFVpbnQ4KCk7c3dpdGNoKGwpe2Nhc2UgMDpyZXR1cm4gbi5ibG9ja3M9byx0W0NdKG4pLGkuY2xvc2UoKSx0aGlzLmhvc3RGbGFnWzBdPUkuU0FCX0JBU0VfT0ZGU0VULGE7Y2FzZSAxOmE9aS5yZWFkVWludDY0KCk7YnJlYWs7Y2FzZSAyOmE9aS5yZWFkRmxvYXQ2NCgpO2JyZWFrO2Nhc2UgMzphPXZvaWQgMDticmVhaztjYXNlIDQ6e2xldCBmPWkucmVhZFVpbnQzMigpLGM9aS5yZWFkVWludDMyKCk7aWYoIWMpby5wdXNoKFtudWxsLGZdKTtlbHNle2xldCBkPW5ldyBVaW50OEFycmF5KGMpO2kucmVhZChkKSxvLnB1c2goW2QuYnVmZmVyLGZdKX19YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgc2VjdGlvbiB0eXBlPSIke2x9IjsgcGxlYXNlIG9wZW4gYW4gaXNzdWUgKGh0dHBzOi8vZ2l0aHViLmNvbS9leHRpc20vanMtc2RrL2lzc3Vlcy9uZXc/dGl0bGU9c2hhcmVkK2FycmF5K2J1ZmZlcitiYWQrc2VjdGlvbit0eXBlKyR7bH0mbGFiZWxzPWJ1ZylgKX19d2hpbGUoMSl9fTtuZXcgaihxKTt2YXIgZz1jbGFzc3tpbnB1dDtmbGFnO2lucHV0T2Zmc2V0O3NjcmF0Y2g7c2NyYXRjaFZpZXc7ZXhwZWN0ZWQ7Y29uc3RydWN0b3IodCl7dGhpcy5pbnB1dD10LHRoaXMuaW5wdXRPZmZzZXQ9Zy5TQUJfQkFTRV9PRkZTRVQsdGhpcy5mbGFnPW5ldyBJbnQzMkFycmF5KHRoaXMuaW5wdXQpLHRoaXMuc2NyYXRjaD1uZXcgQXJyYXlCdWZmZXIoOCksdGhpcy5zY3JhdGNoVmlldz1uZXcgRGF0YVZpZXcodGhpcy5zY3JhdGNoKSx0aGlzLmV4cGVjdGVkPTAsdGhpcy5wdWxsKCExKX1nZXQgYXZhaWxhYmxlKCl7cmV0dXJuIHRoaXMuZmxhZ1swXS10aGlzLmlucHV0T2Zmc2V0fWNsb3NlKCl7Zm9yKDtBdG9taWNzLmNvbXBhcmVFeGNoYW5nZSh0aGlzLmZsYWcsZy5TQUJfSURYLHRoaXMuZXhwZWN0ZWQsZy5TQUJfQkFTRV9PRkZTRVQpIT09Zy5TQUJfQkFTRV9PRkZTRVQ7KTtBdG9taWNzLm5vdGlmeSh0aGlzLmZsYWcsZy5TQUJfSURYLFApfXB1bGwodD0hMCl7aWYodCl7Zm9yKDtBdG9taWNzLmNvbXBhcmVFeGNoYW5nZSh0aGlzLmZsYWcsZy5TQUJfSURYLHRoaXMuZXhwZWN0ZWQsZy5TQUJfQkFTRV9PRkZTRVQpIT09Zy5TQUJfQkFTRV9PRkZTRVQ7KTtBdG9taWNzLm5vdGlmeSh0aGlzLmZsYWcsZy5TQUJfSURYLFApfWxldCByPUF0b21pY3Mud2FpdCh0aGlzLmZsYWcsMCxnLlNBQl9CQVNFX09GRlNFVCxQKTtpZih0aGlzLmV4cGVjdGVkPUF0b21pY3MubG9hZCh0aGlzLmZsYWcsMCkscj09PSJ0aW1lZC1vdXQiKXRocm93IG5ldyBFcnJvcihgV29ya2VyIHRpbWVkIG91dCB3YWl0aW5nIGZvciByZXNwb25zZSBmcm9tIGhvc3QgYWZ0ZXIgJHtQfW1zICR7dGhpcy5mbGFnWzBdfWApO3RoaXMuaW5wdXRPZmZzZXQ9Zy5TQUJfQkFTRV9PRkZTRVR9cmVhZCh0KXtpZih0LmJ5dGVMZW5ndGg8dGhpcy5hdmFpbGFibGUpe3Quc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuaW5wdXQpLnN1YmFycmF5KHRoaXMuaW5wdXRPZmZzZXQsdGhpcy5pbnB1dE9mZnNldCt0LmJ5dGVMZW5ndGgpKSx0aGlzLmlucHV0T2Zmc2V0Kz10LmJ5dGVMZW5ndGg7cmV0dXJufWxldCByPTAscz10aGlzLmF2YWlsYWJsZTtkb3tpZih0LnNldChuZXcgVWludDhBcnJheSh0aGlzLmlucHV0KS5zdWJhcnJheSh0aGlzLmlucHV0T2Zmc2V0LHRoaXMuaW5wdXRPZmZzZXQrcykscikscis9cyx0aGlzLmlucHV0T2Zmc2V0Kz1zLHI9PT10LmJ5dGVMZW5ndGh8fHRoaXMuYXZhaWxhYmxlPDApYnJlYWs7dGhpcy5wdWxsKCkscz1NYXRoLm1pbihNYXRoLm1heCh0aGlzLmF2YWlsYWJsZSwwKSx0LmJ5dGVMZW5ndGgtcil9d2hpbGUociE9PXQuYnl0ZUxlbmd0aCl9cmVhZFVpbnQ4KCl7cmV0dXJuIHRoaXMucmVhZChuZXcgVWludDhBcnJheSh0aGlzLnNjcmF0Y2gpLnN1YmFycmF5KDAsMSkpLHRoaXMuc2NyYXRjaFZpZXcuZ2V0VWludDgoMCl9cmVhZFVpbnQzMigpe3JldHVybiB0aGlzLnJlYWQobmV3IFVpbnQ4QXJyYXkodGhpcy5zY3JhdGNoKS5zdWJhcnJheSgwLDQpKSx0aGlzLnNjcmF0Y2hWaWV3LmdldFVpbnQzMigwLCEwKX1yZWFkVWludDY0KCl7cmV0dXJuIHRoaXMucmVhZChuZXcgVWludDhBcnJheSh0aGlzLnNjcmF0Y2gpKSx0aGlzLnNjcmF0Y2hWaWV3LmdldEJpZ1VpbnQ2NCgwLCEwKX1yZWFkRmxvYXQ2NCgpe3JldHVybiB0aGlzLnJlYWQobmV3IFVpbnQ4QXJyYXkodGhpcy5zY3JhdGNoKSksdGhpcy5zY3JhdGNoVmlldy5nZXRGbG9hdDY0KDAsITApfX0sST1nO0coSSwiU0FCX0lEWCIsMCksRyhJLCJTQUJfQkFTRV9PRkZTRVQiLDQpOwovLyMgc291cmNlTWFwcGluZ1VSTD13b3JrZXIuanMubWFwCg=="),Ve=new WeakMap,We=class extends(globalThis.Worker||Object){constructor(e){super(e,{type:"module",credentials:"omit",name:"extism-worker",crossOriginIsolated:!0})}on(e,t){let r=e=>t(e.data);Ve.set(t,r),this.addEventListener(e,r)}removeListener(e,t){let r=Ve.get(t);r&&this.removeEventListener(e,r)}once(e,t){let r=this;this.addEventListener(e,(function n(...s){r.removeEventListener(e,n),t.call(r,...s)}))}},ve=(1,ne=null!=(re=v())?h(b(re)):{},((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of p(t))!y.call(e,r)&&undefined!==r&&f(e,r,{get:()=>t[r],enumerable:!(n=m(t,r))||n.enumerable});return e})(f(ne,"default",{value:re,enumerable:!0}),re)),Re=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},Le={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Se=e=>e.replace(/[[\]\\-]/g,"\\$&"),Ie=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),He=e=>e.join(""),Ce=(e,t)=>{let r=t;if("["!==e.charAt(r))throw new Error("not in a brace expression");let n=[],s=[],i=r+1,l=!1,a=!1,o=!1,c=!1,u=r,d="";e:for(;i<e.length;){let t=e.charAt(i);if("!"!==t&&"^"!==t||i!==r+1){if("]"===t&&l&&!o){u=i+1;break}if(l=!0,"\\"!==t||o){if("["===t&&!o)for(let[t,[l,o,c]]of Object.entries(Le))if(e.startsWith(t,i)){if(d)return["$.",!1,e.length-r,!0];i+=t.length,c?s.push(l):n.push(l),a=a||o;continue e}o=!1,d?(t>d?n.push(Se(d)+"-"+Se(t)):t===d&&n.push(Se(t)),d="",i++):e.startsWith("-]",i+1)?(n.push(Se(t+"-")),i+=2):e.startsWith("-",i+1)?(d=t,i+=2):(n.push(Se(t)),i++)}else o=!0,i++}else c=!0,i++}if(u<i)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(0===s.length&&1===n.length&&/^\\?.$/.test(n[0])&&!c){let e=2===n[0].length?n[0].slice(-1):n[0];return[Ie(e),!1,u-r,!1]}let h="["+(c?"^":"")+He(n)+"]",f="["+(c?"":"^")+He(s)+"]";return[n.length&&s.length?"("+h+"|"+f+")":n.length?h:f,a,u-r,!0]},ke=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),ze=new Set(["!","?","+","*","@"]),Ye=e=>ze.has(e),Ke="(?!\\.)",Ne=new Set(["[","."]),Fe=new Set(["..","."]),Je=new Set("().*{}+?[]^$\\!"),Te=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),_e="[^/]",Ee=_e+"*?",Me=_e+"+?",Be=class{constructor(e,t,r={}){x(this,pe),x(this,ge),g(this,"type"),x(this,se,void 0),x(this,ie,void 0),x(this,le,!1),x(this,ae,[]),x(this,oe,void 0),x(this,ce,void 0),x(this,ue,void 0),x(this,de,!1),x(this,he,void 0),x(this,fe,void 0),x(this,me,!1),this.type=e,e&&w(this,ie,!0),w(this,oe,t),w(this,se,G(this,oe)?G(G(this,oe),se):this),w(this,he,G(this,se)===this?r:G(G(this,se),he)),w(this,ue,G(this,se)===this?[]:G(G(this,se),ue)),"!"===e&&!G(G(this,se),de)&&G(this,ue).push(this),w(this,ce,G(this,oe)?G(G(this,oe),ae).length:0)}get hasMagic(){if(void 0!==G(this,ie))return G(this,ie);for(let e of G(this,ae))if("string"!=typeof e&&(e.type||e.hasMagic))return w(this,ie,!0);return G(this,ie)}toString(){return void 0!==G(this,fe)?G(this,fe):this.type?w(this,fe,this.type+"("+G(this,ae).map((e=>String(e))).join("|")+")"):w(this,fe,G(this,ae).map((e=>String(e))).join(""))}push(...e){for(let t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof Be&&G(t,oe)===this))throw new Error("invalid part: "+t);G(this,ae).push(t)}}toJSON(){let e=null===this.type?G(this,ae).slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...G(this,ae).map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===G(this,se)||G(G(this,se),de)&&"!"===G(this,oe)?.type)&&e.push({}),e}isStart(){if(G(this,se)===this)return!0;if(!G(this,oe)?.isStart())return!1;if(0===G(this,ce))return!0;let e=G(this,oe);for(let t=0;t<G(this,ce);t++){let r=G(e,ae)[t];if(!(r instanceof Be&&"!"===r.type))return!1}return!0}isEnd(){if(G(this,se)===this||"!"===G(this,oe)?.type)return!0;if(!G(this,oe)?.isEnd())return!1;if(!this.type)return G(this,oe)?.isEnd();let e=G(this,oe)?G(G(this,oe),ae).length:0;return G(this,ce)===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){let t=new Be(this.type,e);for(let e of G(this,ae))t.copyIn(e);return t}static fromGlob(e,t={}){var r;let n=new Be(null,void 0,t);return V(r=Be,ye,Ze).call(r,e,n,0,t),n}toMMPattern(){if(this!==G(this,se))return G(this,se).toMMPattern();let e=this.toString(),[t,r,n,s]=this.toRegExpSource();if(!(n||G(this,ie)||G(this,he).nocase&&!G(this,he).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return r;let i=(G(this,he).nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${t}$`,i),{_src:t,_glob:e})}toRegExpSource(e){let t=e??!!G(this,he).dot;if(G(this,se)===this&&V(this,pe,be).call(this),!this.type){let r=this.isStart()&&this.isEnd(),n=G(this,ae).map((t=>{var n;let[s,i,l,a]="string"==typeof t?V(n=Be,Ge,xe).call(n,t,G(this,ie),r):t.toRegExpSource(e);return w(this,ie,G(this,ie)||l),w(this,le,G(this,le)||a),s})).join(""),s="";if(this.isStart()&&"string"==typeof G(this,ae)[0]&&(1!==G(this,ae).length||!Fe.has(G(this,ae)[0]))){let r=Ne,i=t&&r.has(n.charAt(0))||n.startsWith("\\.")&&r.has(n.charAt(2))||n.startsWith("\\.\\.")&&r.has(n.charAt(4)),l=!t&&!e&&r.has(n.charAt(0));s=i?"(?!(?:^|/)\\.\\.?(?:$|/))":l?Ke:""}let i="";return this.isEnd()&&G(G(this,se),de)&&"!"===G(this,oe)?.type&&(i="(?:$|\\/)"),[s+n+i,ke(n),w(this,ie,!!G(this,ie)),G(this,le)]}let r="*"===this.type||"+"===this.type,n="!"===this.type?"(?:(?!(?:":"(?:",s=V(this,ge,Xe).call(this,t);if(this.isStart()&&this.isEnd()&&!s&&"!"!==this.type){let e=this.toString();return w(this,ae,[e]),this.type=null,w(this,ie,void 0),[e,ke(this.toString()),!1,!1]}let i=!r||e||t?"":V(this,ge,Xe).call(this,!0);i===s&&(i=""),i&&(s=`(?:${s})(?:${i})*?`);let l="";return l="!"===this.type&&G(this,me)?(this.isStart()&&!t?Ke:"")+Me:n+s+("!"===this.type?"))"+(!this.isStart()||t||e?"":Ke)+Ee+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&i?")":"*"===this.type&&i?")?":`)${this.type}`),[l,ke(s),w(this,ie,!!G(this,ie)),G(this,le)]}},Qe=Be;se=new WeakMap,ie=new WeakMap,le=new WeakMap,ae=new WeakMap,oe=new WeakMap,ce=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakMap,fe=new WeakMap,me=new WeakMap,pe=new WeakSet,be=function(){if(this!==G(this,se))throw new Error("should only call on root");if(G(this,de))return this;let e;for(this.toString(),w(this,de,!0);e=G(this,ue).pop();){if("!"!==e.type)continue;let t=e,r=G(t,oe);for(;r;){for(let n=G(t,ce)+1;!r.type&&n<G(r,ae).length;n++)for(let t of G(e,ae)){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(G(r,ae)[n])}t=r,r=G(t,oe)}}return this},ye=new WeakSet,Ze=function(e,t,r,n){var s,i;let l=!1,a=!1,o=-1,c=!1;if(null===t.type){let i=r,u="";for(;i<e.length;){let r=e.charAt(i++);if(l||"\\"===r)l=!l,u+=r;else if(a)i===o+1?("^"===r||"!"===r)&&(c=!0):"]"===r&&!(i===o+2&&c)&&(a=!1),u+=r;else if("["!==r)if(n.noext||!Ye(r)||"("!==e.charAt(i))u+=r;else{t.push(u),u="";let l=new Be(r,t);i=V(s=Be,ye,Ze).call(s,e,l,i,n),t.push(l)}else a=!0,o=i,c=!1,u+=r}return t.push(u),i}let u=r+1,d=new Be(null,t),h=[],f="";for(;u<e.length;){let r=e.charAt(u++);if(l||"\\"===r)l=!l,f+=r;else if(a)u===o+1?("^"===r||"!"===r)&&(c=!0):"]"===r&&!(u===o+2&&c)&&(a=!1),f+=r;else if("["!==r)if(Ye(r)&&"("===e.charAt(u)){d.push(f),f="";let t=new Be(r,d);d.push(t),u=V(i=Be,ye,Ze).call(i,e,t,u,n)}else if("|"!==r){if(")"===r)return""===f&&0===G(t,ae).length&&w(t,me,!0),d.push(f),f="",t.push(...h,d),u;f+=r}else d.push(f),f="",h.push(d),d=new Be(null,t);else a=!0,o=u,c=!1,f+=r}return t.type=null,w(t,ie,void 0),w(t,ae,[e.substring(r-1)]),u},ge=new WeakSet,Xe=function(e){return G(this,ae).map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");let[r,n,s,i]=t.toRegExpSource(e);return w(this,le,G(this,le)||i),r})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")},Ge=new WeakSet,xe=function(e,t,r=!1){let n=!1,s="",i=!1;for(let l=0;l<e.length;l++){let a=e.charAt(l);if(n)n=!1,s+=(Je.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){let[r,n,a,o]=Ce(e,l);if(a){s+=r,i=i||n,l+=a-1,t=t||o;continue}}"*"!==a?"?"!==a?s+=Te(a):(s+=_e,t=!0):(s+=r&&"*"===e?Me:Ee,t=!0)}else l===e.length-1?s+="\\\\":n=!0}return[s,ke(e),!!t,i]},x(Qe,ye),x(Qe,Ge);var Oe=(e,t,r={})=>(Re(t),!(!r.nocomment&&"#"===t.charAt(0))&&new Zt(t,r).match(e)),Ue=/^\*+([^+@!?\*\[\(]*)$/,Pe=e=>t=>!t.startsWith(".")&&t.endsWith(e),Ae=e=>t=>t.endsWith(e),je=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),De=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),qe=/^\*+\.\*+$/,$e=e=>!e.startsWith(".")&&e.includes("."),et=e=>"."!==e&&".."!==e&&e.includes("."),tt=/^\.\*+$/,rt=e=>"."!==e&&".."!==e&&e.startsWith("."),nt=/^\*+$/,st=e=>0!==e.length&&!e.startsWith("."),it=e=>0!==e.length&&"."!==e&&".."!==e,lt=/^\?+([^+@!?\*\[\(]*)?$/,at=([e,t=""])=>{let r=dt([e]);return t?(t=t.toLowerCase(),e=>r(e)&&e.toLowerCase().endsWith(t)):r},ot=([e,t=""])=>{let r=ht([e]);return t?(t=t.toLowerCase(),e=>r(e)&&e.toLowerCase().endsWith(t)):r},ct=([e,t=""])=>{let r=ht([e]);return t?e=>r(e)&&e.endsWith(t):r},ut=([e,t=""])=>{let r=dt([e]);return t?e=>r(e)&&e.endsWith(t):r},dt=([e])=>{let t=e.length;return e=>e.length===t&&!e.startsWith(".")},ht=([e])=>{let t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},ft="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";Oe.sep="win32"===ft?"\\":"/";var mt=Symbol("globstar **");Oe.GLOBSTAR=mt,Oe.filter=(e,t={})=>r=>Oe(r,e,t);var pt=(e,t={})=>Object.assign({},e,t);Oe.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return Oe;let t=Oe;return Object.assign(((r,n,s={})=>t(r,n,pt(e,s))),{Minimatch:class extends t.Minimatch{constructor(t,r={}){super(t,pt(e,r))}static defaults(r){return t.defaults(pt(e,r)).Minimatch}},AST:class extends t.AST{constructor(t,r,n={}){super(t,r,pt(e,n))}static fromGlob(r,n={}){return t.AST.fromGlob(r,pt(e,n))}},unescape:(r,n={})=>t.unescape(r,pt(e,n)),escape:(r,n={})=>t.escape(r,pt(e,n)),filter:(r,n={})=>t.filter(r,pt(e,n)),defaults:r=>t.defaults(pt(e,r)),makeRe:(r,n={})=>t.makeRe(r,pt(e,n)),braceExpand:(r,n={})=>t.braceExpand(r,pt(e,n)),match:(r,n,s={})=>t.match(r,n,pt(e,s)),sep:t.sep,GLOBSTAR:mt})};var bt=(e,t={})=>(Re(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,ve.default)(e));Oe.braceExpand=bt,Oe.makeRe=(e,t={})=>new Zt(e,t).makeRe(),Oe.match=(e,t,r={})=>{let n=new Zt(t,r);return e=e.filter((e=>n.match(e))),n.options.nonull&&!e.length&&e.push(t),e};var yt=/[?*]|[+@!]\(.*?\)|\[|\]/,Zt=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){Re(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||ft,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);let r=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let n=this.globParts.map(((e,t,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){let t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&yt.test(e[2])||yt.test(e[3])),r=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(r)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,n),this.set=n.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){let t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++)"**"===e[t][r]&&(e[t][r]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let r=t;for(;"**"===e[r+1];)r++;r!==t&&e.splice(t,r-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{let r=e[e.length-1];return"**"===t&&"**"===r?e:".."===t&&r&&".."!==r&&"."!==r&&"**"!==r?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let r=1;r<e.length-1;r++){let n=e[r];1===r&&""===n&&""===e[0]||("."===n||""===n)&&(t=!0,e.splice(r,1),r--)}"."===e[0]&&2===e.length&&("."===e[1]||""===e[1])&&(t=!0,e.pop())}let r=0;for(;-1!==(r=e.indexOf("..",r+1));){let n=e[r-1];n&&"."!==n&&".."!==n&&"**"!==n&&(t=!0,e.splice(r-1,2),r-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let r of e){let n=-1;for(;-1!==(n=r.indexOf("**",n+1));){let s=n;for(;"**"===r[s+1];)s++;s>n&&r.splice(n+1,s-n);let i=r[n+1],l=r[n+2],a=r[n+3];if(".."!==i||!l||"."===l||".."===l||!a||"."===a||".."===a)continue;t=!0,r.splice(n,1);let o=r.slice(0);o[n]="**",e.push(o),n--}if(!this.preserveMultipleSlashes){for(let e=1;e<r.length-1;e++){let n=r[e];1===e&&""===n&&""===r[0]||("."===n||""===n)&&(t=!0,r.splice(e,1),e--)}"."===r[0]&&2===r.length&&("."===r[1]||""===r[1])&&(t=!0,r.pop())}let s=0;for(;-1!==(s=r.indexOf("..",s+1));){let e=r[s-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;let e=1===s&&"**"===r[s+1]?["."]:[];r.splice(s-1,2,...e),0===r.length&&r.push(""),s-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let r=t+1;r<e.length;r++){let n=this.partsMatch(e[t],e[r],!this.preserveMultipleSlashes);!n||(e[t]=n,e[r]=[])}return e.filter((e=>e.length))}partsMatch(e,t,r=!1){let n=0,s=0,i=[],l="";for(;n<e.length&&s<t.length;)if(e[n]===t[s])i.push("b"===l?t[s]:e[n]),n++,s++;else if(r&&"**"===e[n]&&t[s]===e[n+1])i.push(e[n]),n++;else if(r&&"**"===t[s]&&e[n]===t[s+1])i.push(t[s]),s++;else if("*"!==e[n]||!t[s]||!this.options.dot&&t[s].startsWith(".")||"**"===t[s]){if("*"!==t[s]||!e[n]||!this.options.dot&&e[n].startsWith(".")||"**"===e[n])return!1;if("a"===l)return!1;l="b",i.push(t[s]),n++,s++}else{if("b"===l)return!1;l="a",i.push(e[n]),n++,s++}return e.length===t.length&&i}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,r=0;for(let n=0;n<e.length&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t}matchOne(e,t,r=!1){let n=this.options;if(this.isWindows){let r="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),n=!r&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),s="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),i=n?3:r?0:void 0,l=!s&&""===t[0]&&""===t[1]&&"?"===t[2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])?3:s?0:void 0;if("number"==typeof i&&"number"==typeof l){let[r,n]=[e[i],t[l]];r.toLowerCase()===n.toLowerCase()&&(t[l]=r,l>i?t=t.slice(l):i>l&&(e=e.slice(i)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,l=0,a=e.length,o=t.length;i<a&&l<o;i++,l++){this.debug("matchOne loop");var c=t[l],u=e[i];if(this.debug(t,c,u),!1===c)return!1;if(c===mt){this.debug("GLOBSTAR",[t,c,u]);var d=i,h=l+1;if(h===o){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;d<a;){var f=e[d];if(this.debug("\nglobstar while",e,d,t,h,f),this.matchOne(e.slice(d),t.slice(h),r))return this.debug("globstar found match!",d,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,d,t,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!r||(this.debug("\n>>> no match, partial?",e,d,t,h),d!==a))}let s;if("string"==typeof c?(s=u===c,this.debug("string match",c,u,s)):(s=c.test(u),this.debug("pattern match",c,u,s)),!s)return!1}if(i===a&&l===o)return!0;if(i===a)return r;if(l===o)return i===a-1&&""===e[i];throw new Error("wtf?")}braceExpand(){return bt(this.pattern,this.options)}parse(e){Re(e);let t=this.options;if("**"===e)return mt;if(""===e)return"";let r,n=null;(r=e.match(nt))?n=t.dot?it:st:(r=e.match(Ue))?n=(t.nocase?t.dot?De:je:t.dot?Ae:Pe)(r[1]):(r=e.match(lt))?n=(t.nocase?t.dot?ot:at:t.dot?ct:ut)(r):(r=e.match(qe))?n=t.dot?et:$e:(r=e.match(tt))&&(n=rt);let s=Qe.fromGlob(e,this.options).toMMPattern();return n?Object.assign(s,{test:n}):s}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,r=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=new Set(t.nocase?["i"]:[]),s=e.map((e=>{let t=e.map((e=>{if(e instanceof RegExp)for(let t of e.flags.split(""))n.add(t);return"string"==typeof e?(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))(e):e===mt?mt:e._src}));return t.forEach(((e,n)=>{let s=t[n+1],i=t[n-1];e!==mt||i===mt||(void 0===i?void 0!==s&&s!==mt?t[n+1]="(?:\\/|"+r+"\\/)?"+s:t[n]=r:void 0===s?t[n-1]=i+"(?:\\/|"+r+")?":s!==mt&&(t[n-1]=i+"(?:\\/|\\/"+r+"\\/)"+s,t[n+1]=mt))})),t.filter((e=>e!==mt)).join("/")})).join("|"),[i,l]=e.length>1?["(?:",")"]:["",""];s="^"+i+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...n].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;let r=this.options;this.isWindows&&(e=e.split("\\").join("/"));let n=this.slashSplit(e);this.debug(this.pattern,"split",n);let s=this.set;this.debug(this.pattern,"set",s);let i=n[n.length-1];if(!i)for(let e=n.length-2;!i&&e>=0;e--)i=n[e];for(let e=0;e<s.length;e++){let l=s[e],a=n;if(r.matchBase&&1===l.length&&(a=[i]),this.matchOne(a,l,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return Oe.defaults(e).Minimatch}};Oe.AST=Qe,Oe.Minimatch=Zt,Oe.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),Oe.unescape=ke;var gt=Atomics.waitAsync||(()=>{let e=new Blob(["onmessage = ev => {\n    const [b, i, v] = ev.data\n    const f = new Int32Array(b)\n    postMessage(Atomics.wait(f, i, v));\n  }"],{type:"text/javascript"}),t=URL.createObjectURL(e),r=new We(t);return(e,t,n)=>{let s=new Promise((e=>{r.once("message",(t=>{e(t)}))}));return r.postMessage([e.buffer,t,n]),{async:!0,value:s}}})(),Xt=class{worker;sharedData;sharedDataView;hostFlag;opts;#e;#t=null;constructor(e,t,r,n){this.worker=e,this.sharedData=t,this.sharedDataView=new DataView(t),this.hostFlag=new Int32Array(t),this.opts=r,this.#e=n,this.hostFlag[0]=Vt.SAB_BASE_OFFSET,this.worker.on("message",(e=>this.#r(e)))}async reset(){return!this.isActive()&&(await this.#i("reset"),this.#e[E](),!0)}isActive(){return Boolean(this.#t)}async#r(e){switch(e?.type){case"invoke":return this.#l(e);case"return":return this.#s(e);case"log":return this.#n(e)}}#n(e){let t=this.opts.logger[e.level];"function"!=typeof t?this.opts.logger?.error(`failed to find loglevel="${e.level}" on logger: message=${e.message}`):t.call(this.opts.logger,e.message)}#s(e){let t=this.#t||null;if(null===t)throw new Error('received "return" call with no corresponding request');this.#t=null;let[r,n]=t;if(!Array.isArray(e.results)||2!==e.results.length)return n(new Error('received malformed "return"'));let[s,i]=e.results;s?n(s):r(i)}async#i(e,...t){if(this.#t)throw new Error("plugin is not reentrant");let r,n,s=new Promise(((e,t)=>{r=e,n=t}));return this.#t=[r,n],this.worker.postMessage({type:"invoke",handler:e,args:t}),s}async functionExists(e){return await this.#i("functionExists",e)}async call(e,t){let r=this.#e[_](t),[n,s]=await this.callBlock(e,r),i=null!==n,l=n??s;if(null===l)return null;let a=this.#e[F](l);if(null===a)return null;let o=new z(R.allowSharedBufferCodec?a.buffer:new Uint8Array(a.buffer).slice().buffer);if(i){let e=(new TextDecoder).decode(o);throw new Error(`Plugin-originated error: ${e}`)}return o}async callBlock(e,t){let r=this.#e[T](),{results:n,state:s}=await this.#i("call",e,t,r);this.#e[J](s,!0);let[i,l]=n;if(i)throw i;return l}async#l(e){let t=new Vt(this.sharedData),r=(this.opts.functions[e.namespace]??{})[e.func];try{if(!r)throw Error(`Plugin error: host function "${e.namespace}" "${e.func}" does not exist`);this.#e[J](e.state,!0);let n,s=await r(this.#e,...e.args),{blocks:i}=this.#e[T]();for(let[e,r]of i)n=t.writeUint8(4),n&&await n,n=t.writeUint32(r),n&&await n,n=t.writeUint32(e?.byteLength||0),n&&await n,e&&(n=t.write(e),n&&await n);"bigint"==typeof s?(n=t.writeUint8(1),n&&await n,n=t.writeUint64(s),n&&await n):"number"==typeof s?(n=t.writeUint8(2),n&&await n,n=t.writeFloat64(s),n&&await n):(n=t.writeUint8(3),n&&await n),n=t.writeUint8(0),n&&await n,await t.flush()}catch(e){this.close();let[,t]=this.#t;return this.#t=null,t(e)}}async getExports(e){return await this.#i("getExports",e??"0")}async getImports(e){return await this.#i("getImports",e??"0")}async getInstance(){throw new Error("todo")}async close(){this.worker&&(this.worker.terminate(),this.worker=null)}},Gt=class{fetch;lastStatusCode;allowedHosts;constructor(e,t){this.fetch=e,this.allowedHosts=t,this.lastStatusCode=0}contribute(e){e[$]??={},e[$].http_request=(e,t,r)=>this.makeRequest(e,t,r),e[$].http_status_code=()=>this.lastStatusCode}async makeRequest(e,t,r){let n=e.read(t);if(null===n)return 0n;let{header:s,url:i,method:l}=n.json(),a=l??"GET",o=new URL(i);if(!this.allowedHosts.some((e=>e===o.hostname||function(e,t){return Oe(e,t)}(o.hostname,e))))throw new Error(`Call error: HTTP request to "${o}" is not allowed (no allowedHosts match "${o.hostname}")`);let c=0n===r||"GET"===a||"HEAD"===a?null:e.read(r)?.bytes(),u=this.fetch,d=await u(i,{headers:s,method:a,...c?{body:c.slice()}:{}});return this.lastStatusCode=d.status,e.store(new Uint8Array(await d.arrayBuffer()))}};async function xt(e,t,r){let n=new We(we),s=new B(SharedArrayBuffer,e.logger,e.config);new Gt(e.fetch,e.allowedHosts).contribute(e.functions),await new Promise(((e,t)=>{n.on("message",(function r(s){"initialized"!==s?.type&&t(new Error(`received unexpected message (type=${s?.type})`)),n.removeListener("message",r),e(null)}))}));let i=new SharedArrayBuffer(e.sharedArrayBufferSize),{fetch:l,logger:a,...o}=e,c={...o,type:"init",functions:Object.fromEntries(Object.entries(e.functions||{}).map((([e,t])=>[e,Object.keys(t)]))),names:t,modules:r,sharedData:i},u=new Promise(((e,t)=>{n.on("message",(function r(s){"ready"!==s?.type&&t(new Error(`received unexpected message (type=${s?.type})`)),n.removeListener("message",r),e(null)}))}));return n.postMessage(c),await u,new Xt(n,i,e,s)}var wt=class{output;scratch;scratchView;outputOffset;flag;constructor(e){this.scratch=new ArrayBuffer(8),this.scratchView=new DataView(this.scratch),this.output=e,this.outputOffset=wt.SAB_BASE_OFFSET,this.flag=new Int32Array(this.output)}async flush(){if(this.outputOffset===wt.SAB_BASE_OFFSET)return;let e=this.outputOffset;for(this.outputOffset=wt.SAB_BASE_OFFSET;Atomics.compareExchange(this.flag,wt.SAB_IDX,wt.SAB_BASE_OFFSET,e)!==e;);Atomics.notify(this.flag,wt.SAB_IDX,1);let t,r=gt(this.flag,wt.SAB_IDX,e,5e3);try{t=setInterval((()=>{}),0),r.async&&(r.value=await r.value)}finally{clearInterval(t)}if("timed-out"===r.value)throw new Error(`encountered timeout while flushing host function to worker memory ${this.flag[0]}`)}async spanningWrite(e){let t=0,r=this.output.byteLength-this.outputOffset,n=1+Math.floor((e.byteLength-r)/(this.output.byteLength-wt.SAB_BASE_OFFSET)),s=(e.byteLength-r)%(this.output.byteLength-wt.SAB_BASE_OFFSET);do{new Uint8Array(this.output).set(e.subarray(t,t+r),this.outputOffset),this.outputOffset+=r,t+=r,await this.flush(),r=this.output.byteLength-wt.SAB_BASE_OFFSET,--n}while(0!=n);s&&this.write(e.subarray(t,t+s))}write(e){return e.byteLength+this.outputOffset<this.output.byteLength?(new Uint8Array(this.output).set(new Uint8Array(e),this.outputOffset),void(this.outputOffset+=e.byteLength)):this.spanningWrite(new Uint8Array(e))}writeUint8(e){return this.scratchView.setUint8(0,e),this.write(this.scratch.slice(0,1))}writeUint32(e){return this.scratchView.setUint32(0,e,!0),this.write(this.scratch.slice(0,4))}writeUint64(e){return this.scratchView.setBigUint64(0,e,!0),this.write(this.scratch.slice(0,8))}writeFloat64(e){return this.scratchView.setFloat64(0,e,!0),this.write(this.scratch.slice(0,8))}},Vt=wt;async function Wt(e,t={}){if(t={...t},t.useWasi??=!1,t.functions=t.functions||{},t.allowedPaths??={},t.allowedHosts??=[].concat(t.allowedHosts||[]),t.logger??=console,t.config??={},t.fetch??=fetch,t.runInWorker??=R.hasWorkerCapability,t.runInWorker&&!R.hasWorkerCapability)throw new Error("Cannot enable off-thread wasm; current context is not `crossOriginIsolated` (see https://mdn.io/crossOriginIsolated)");let[r,n]=await async function(e,t){let r=[],n=await I(e,t),s=await Promise.all(n.wasm.map((async(e,n)=>{let s,i;if(e.data){let t=e.data;i=t.buffer?t.buffer:t,s=await WebAssembly.compile(t)}else if(e.path){e.path;let t=await async function(e){throw new Error("readFile not supported in this environment")}();i=t.buffer,s=await WebAssembly.compile(t)}else if(e.url){let r=await t(e.url,{headers:{accept:"application/wasm;q=0.9,application/octet-stream;q=0.8","user-agent":"extism"}}),n=await L(r,Boolean(e.hash));i=n.data,s=n.module}else if(e.response){let t=await L(e.response,Boolean(e.hash));i=t.data,s=t.module}else{if(!e.module)throw new Error(`Unrecognized wasm item at index ${n}. Keys include: "${Object.keys(e).sort().join(",")}"`);r[n]=e.name??String(n),s=e.module}if(e.hash){if(!i)throw new Error("Item specified a hash but WebAssembly.Module source data is unavailable for hashing");let t=new Uint8Array(await crypto.subtle.digest("SHA-256",i)),r=new Uint8Array(32),n=!0;for(let s=0;s<32;++s)r[s]=parseInt(e.hash.slice(s<<1,2+(s<<1)),16),n=n&&r[s]===t[s];let s=()=>[...t].map((e=>e.toString(16).padStart(2,"0"))).join("");if(!n)throw new Error(`Plugin error: hash mismatch. Expected: ${e.hash}. Actual: ${s()}`);e.name??=s()}return r[n]=e.name??String(n),s})));return[r,s]}(await Promise.resolve(e),t.fetch??fetch),s={allowedHosts:t.allowedHosts,allowedPaths:t.allowedPaths,functions:t.functions,fetch:t.fetch||fetch,wasiEnabled:t.useWasi,logger:t.logger,config:t.config,sharedArrayBufferSize:Number(t.sharedArrayBufferSize)||65536};return(t.runInWorker?xt:te)(s,r,n)}function vt(e,t,r){!function(e,t){e.addEventListener("extismSwap",t)}(e,(async function(n){let s=JSON.parse(n.detail.res.responseText).data.responses[0].language,i=n.detail.extismUUID;const l=await Wt(r,{useWasi:!0});if(await l.functionExists("render")){let r=(await l.call("render",s)).text();r.startsWith("`")&&(r=r.slice(1)),r.endsWith("`")&&(r=r.slice(0,-1));let n=document.createElement("div");n.innerHTML=r,n.id=i,t.replaceChild(n,e)}await l.close()}))}g(Vt,"SAB_IDX",0),g(Vt,"SAB_BASE_OFFSET",4),(0,t.wi)("http//127.0.0.1:8080/gql"),n("language","    query Response($language: String!)  {\n    responses(language: $language){\n        language\n    }\n}"),n("setup",'    mutation CreateResponse{\n  createResponse(input:[{language: "golang"},{language: "rust"},{language: "javascript"}]) {\n    language\n  }\n}'),r("setup",(e=>(JSON.parse(e),""))),r("extism",((e,t)=>"")),d("helloGO",{manifest:"http://localhost:8080/wasm/go",callback:vt}),d("helloRust",{manifest:"http://localhost:8080/wasm/rust",callback:vt}),window.onload=function(){console.log("adding Extism plugins");for(const[e,t]of u){let r=document.getElementById(e),n=r.parentElement;(0,t.callback)(r,n,t.manifest)}console.log("plugins added")},window.htmx=__webpack_require__(28)})()})();